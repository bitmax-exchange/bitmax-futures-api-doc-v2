
<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <meta content="IE=edge,chrome=1" http-equiv="X-UA-Compatible">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <title>API Reference</title>

    <style media="screen">
      .highlight table td { padding: 5px; }
.highlight table pre { margin: 0; }
.highlight .gh {
  color: #999999;
}
.highlight .sr {
  color: #f6aa11;
}
.highlight .go {
  color: #888888;
}
.highlight .gp {
  color: #555555;
}
.highlight .gs {
}
.highlight .gu {
  color: #aaaaaa;
}
.highlight .nb {
  color: #f6aa11;
}
.highlight .cm {
  color: #999999;
}
.highlight .cp {
  color: #999999;
}
.highlight .c1 {
  color: #999999;
}
.highlight .cs {
  color: #999999;
}
.highlight .c, .highlight .ch, .highlight .cd, .highlight .cpf {
  color: #999999;
}
.highlight .err {
  color: #999999;
}
.highlight .gr {
  color: #999999;
}
.highlight .gt {
  color: #999999;
}
.highlight .gd {
  color: #49483e;
}
.highlight .gi {
  color: #49483e;
}
.highlight .ge {
  color: #49483e;
}
.highlight .kc {
  color: #66d9ef;
}
.highlight .kd {
  color: #66d9ef;
}
.highlight .kr {
  color: #66d9ef;
}
.highlight .no {
  color: #66d9ef;
}
.highlight .kt {
  color: #66d9ef;
}
.highlight .mf {
  color: #f08c49;
}
.highlight .mh {
  color: #f08c49;
}
.highlight .il {
  color: #f08c49;
}
.highlight .mi {
  color: #f08c49;
}
.highlight .mo {
  color: #f08c49;
}
.highlight .m, .highlight .mb, .highlight .mx {
  color: #f08c49;
}
.highlight .sc {
  color: #f08c49;
}
.highlight .se {
  color: #f08c49;
}
.highlight .ss {
  color: #f08c49;
}
.highlight .sd {
  color: #7ec699;
}
.highlight .s2 {
  color: #7ec699;
}
.highlight .sb {
  color: #7ec699;
}
.highlight .sh {
  color: #7ec699;
}
.highlight .si {
  color: #7ec699;
}
.highlight .sx {
  color: #7ec699;
}
.highlight .s1 {
  color: #7ec699;
}
.highlight .s, .highlight .sa, .highlight .dl {
  color: #7ec699;
}
.highlight .na {
  color: #a6e22e;
}
.highlight .nc {
  color: #a6e22e;
}
.highlight .nd {
  color: #a6e22e;
}
.highlight .ne {
  color: #a6e22e;
}
.highlight .nf, .highlight .fm {
  color: #a6e22e;
}
.highlight .vc {
  color: #ffffff;
}
.highlight .nn {
  color: #ffffff;
}
.highlight .ni {
  color: #ffffff;
}
.highlight .bp {
  color: #ffffff;
}
.highlight .vg {
  color: #ffffff;
}
.highlight .vi {
  color: #ffffff;
}
.highlight .nv, .highlight .vm {
  color: #ffffff;
}
.highlight .w {
  color: #ffffff;
}
.highlight {
  color: #ffffff;
}
.highlight .n, .highlight .py, .highlight .nx {
  color: #ffffff;
}
.highlight .nl {
  color: #f8c455;
}
.highlight .ow {
  color: #f8c455;
}
.highlight .nt {
  color: #f8c455;
}
.highlight .k, .highlight .kv {
  color: #f8c455;
}
.highlight .kn {
  color: #f8c455;
}
.highlight .kp {
  color: #f8c455;
}
.highlight .o {
  color: #f8c455;
}
    </style>
    <style media="print">
      * {
        -webkit-transition:none!important;
        transition:none!important;
      }
      .highlight table td { padding: 5px; }
.highlight table pre { margin: 0; }
.highlight, .highlight .w {
  color: #586e75;
}
.highlight .err {
  color: #002b36;
  background-color: #dc322f;
}
.highlight .c, .highlight .ch, .highlight .cd, .highlight .cm, .highlight .cpf, .highlight .c1, .highlight .cs {
  color: #657b83;
}
.highlight .cp {
  color: #b58900;
}
.highlight .nt {
  color: #b58900;
}
.highlight .o, .highlight .ow {
  color: #93a1a1;
}
.highlight .p, .highlight .pi {
  color: #93a1a1;
}
.highlight .gi {
  color: #859900;
}
.highlight .gd {
  color: #dc322f;
}
.highlight .gh {
  color: #268bd2;
  background-color: #002b36;
  font-weight: bold;
}
.highlight .k, .highlight .kn, .highlight .kp, .highlight .kr, .highlight .kv {
  color: #6c71c4;
}
.highlight .kc {
  color: #cb4b16;
}
.highlight .kt {
  color: #cb4b16;
}
.highlight .kd {
  color: #cb4b16;
}
.highlight .s, .highlight .sa, .highlight .sb, .highlight .sc, .highlight .dl, .highlight .sd, .highlight .s2, .highlight .sh, .highlight .sx, .highlight .s1 {
  color: #859900;
}
.highlight .sr {
  color: #2aa198;
}
.highlight .si {
  color: #d33682;
}
.highlight .se {
  color: #d33682;
}
.highlight .nn {
  color: #b58900;
}
.highlight .nc {
  color: #b58900;
}
.highlight .no {
  color: #b58900;
}
.highlight .na {
  color: #268bd2;
}
.highlight .m, .highlight .mb, .highlight .mf, .highlight .mh, .highlight .mi, .highlight .il, .highlight .mo, .highlight .mx {
  color: #859900;
}
.highlight .ss {
  color: #859900;
}
    </style>
    <link href="stylesheets/screen-eabb5949.css" rel="stylesheet" media="screen" />
    <link href="stylesheets/print-953e3353.css" rel="stylesheet" media="print" />
      <script src="javascripts/all-0c8f7524.js"></script>

    <script>
      $(function() { setupCodeCopy(); });
    </script>
  </head>

  <body class="index" data-languages="[&quot;shell&quot;,&quot;python&quot;,&quot;java&quot;]">
    <a href="#" id="nav-button">
      <span>
        NAV
        <img src="images/navbar-cad8cdcb.png" alt="" />
      </span>
    </a>
    <div class="toc-wrapper">
      <img src="images/logo-1ea58e3a.png" class="logo" alt="" />
        <div class="lang-selector">
              <a href="#" data-language-name="shell">shell</a>
              <a href="#" data-language-name="python">python</a>
              <a href="#" data-language-name="java">java</a>
        </div>
        <div class="search">
          <input type="text" class="search" id="input-search" placeholder="Search">
        </div>
        <ul class="search-results"></ul>
      <ul id="toc" class="toc-list-h1">
          <li>
            <a href="#introducing-futures-pro-v2-apis-testnet-only" class="toc-h1 toc-link" data-title="Introducing Futures Pro (v2) APIs (Testnet Only)">Introducing Futures Pro (v2) APIs (Testnet Only)</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#testnet" class="toc-h2 toc-link" data-title="Testnet">Testnet</a>
                  </li>
                  <li>
                    <a href="#demo-code" class="toc-h2 toc-link" data-title="Demo Code">Demo Code</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#restful-apis" class="toc-h1 toc-link" data-title="RESTful APIs">RESTful APIs</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#general-info-public" class="toc-h2 toc-link" data-title="General Info (Public)">General Info (Public)</a>
                      <ul class="toc-list-h3">
                          <li>
                            <a href="#futures-contracts-info" class="toc-h3 toc-link" data-title="Futures Contracts Info">Futures Contracts Info</a>
                          </li>
                          <li>
                            <a href="#futures-collateral-asset-info" class="toc-h3 toc-link" data-title="Futures Collateral Asset Info">Futures Collateral Asset Info</a>
                          </li>
                      </ul>
                  </li>
                  <li>
                    <a href="#market-data-public" class="toc-h2 toc-link" data-title="Market Data (Public)">Market Data (Public)</a>
                      <ul class="toc-list-h3">
                          <li>
                            <a href="#futures-pricing-data" class="toc-h3 toc-link" data-title="Futures Pricing Data">Futures Pricing Data</a>
                          </li>
                      </ul>
                  </li>
                  <li>
                    <a href="#authenticate-a-restful-request" class="toc-h2 toc-link" data-title="Authenticate a RESTful Request">Authenticate a RESTful Request</a>
                  </li>
                  <li>
                    <a href="#account-data" class="toc-h2 toc-link" data-title="Account Data">Account Data</a>
                      <ul class="toc-list-h3">
                          <li>
                            <a href="#account-info" class="toc-h3 toc-link" data-title="Account Info">Account Info</a>
                          </li>
                          <li>
                            <a href="#position" class="toc-h3 toc-link" data-title="Position">Position</a>
                          </li>
                          <li>
                            <a href="#free-margin" class="toc-h3 toc-link" data-title="Free Margin">Free Margin</a>
                          </li>
                          <li>
                            <a href="#change-margin-for-isolated-positions" class="toc-h3 toc-link" data-title="Change Margin (for Isolated Positions)">Change Margin (for Isolated Positions)</a>
                          </li>
                          <li>
                            <a href="#change-margin-type" class="toc-h3 toc-link" data-title="Change Margin Type">Change Margin Type</a>
                          </li>
                          <li>
                            <a href="#change-contract-leverage" class="toc-h3 toc-link" data-title="Change Contract Leverage">Change Contract Leverage</a>
                          </li>
                          <li>
                            <a href="#deposit-to-the-futures-account" class="toc-h3 toc-link" data-title="Deposit to the Futures Account">Deposit to the Futures Account</a>
                          </li>
                          <li>
                            <a href="#withdraw-from-the-futures-account" class="toc-h3 toc-link" data-title="Withdraw from the Futures Account">Withdraw from the Futures Account</a>
                          </li>
                      </ul>
                  </li>
                  <li>
                    <a href="#order" class="toc-h2 toc-link" data-title="Order">Order</a>
                      <ul class="toc-list-h3">
                          <li>
                            <a href="#generate-order-id" class="toc-h3 toc-link" data-title="Generate Order Id">Generate Order Id</a>
                          </li>
                          <li>
                            <a href="#new-order" class="toc-h3 toc-link" data-title="New Order">New Order</a>
                          </li>
                          <li>
                            <a href="#cancel-order" class="toc-h3 toc-link" data-title="Cancel Order">Cancel Order</a>
                          </li>
                          <li>
                            <a href="#cancel-all-open-orders" class="toc-h3 toc-link" data-title="Cancel All Open Orders">Cancel All Open Orders</a>
                          </li>
                          <li>
                            <a href="#list-open-orders" class="toc-h3 toc-link" data-title="List Open Orders">List Open Orders</a>
                          </li>
                      </ul>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#websocket" class="toc-h1 toc-link" data-title="WebSocket">WebSocket</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#how-to-connect" class="toc-h2 toc-link" data-title="How to Connect">How to Connect</a>
                  </li>
                  <li>
                    <a href="#public-stream-data" class="toc-h2 toc-link" data-title="Public Stream Data">Public Stream Data</a>
                      <ul class="toc-list-h3">
                          <li>
                            <a href="#channel-futures-pricing-data" class="toc-h3 toc-link" data-title="Channel: Futures Pricing Data">Channel: Futures Pricing Data</a>
                          </li>
                          <li>
                            <a href="#channel-level-1-order-book-data-bbo" class="toc-h3 toc-link" data-title="Channel: Level 1 Order Book Data (BBO)">Channel: Level 1 Order Book Data (BBO)</a>
                          </li>
                          <li>
                            <a href="#channel-level-2-order-book-updates" class="toc-h3 toc-link" data-title="Channel: Level 2 Order Book Updates">Channel: Level 2 Order Book Updates</a>
                          </li>
                          <li>
                            <a href="#channel-market-trades" class="toc-h3 toc-link" data-title="Channel: Market Trades">Channel: Market Trades</a>
                          </li>
                          <li>
                            <a href="#channel-bar-data" class="toc-h3 toc-link" data-title="Channel: Bar Data">Channel: Bar Data</a>
                          </li>
                      </ul>
                  </li>
                  <li>
                    <a href="#private-stream-data" class="toc-h2 toc-link" data-title="Private Stream Data">Private Stream Data</a>
                      <ul class="toc-list-h3">
                          <li>
                            <a href="#authenticate-a-websocket-session" class="toc-h3 toc-link" data-title="Authenticate a WebSocket Session">Authenticate a WebSocket Session</a>
                          </li>
                          <li>
                            <a href="#prehash-string" class="toc-h3 toc-link" data-title="Prehash String">Prehash String</a>
                          </li>
                          <li>
                            <a href="#method-1-websocket-authentication-with-request-headers" class="toc-h3 toc-link" data-title="Method 1 - WebSocket Authentication with Request Headers">Method 1 - WebSocket Authentication with Request Headers</a>
                          </li>
                          <li>
                            <a href="#method-2-websocket-authentication-by-sending-the-auth-message" class="toc-h3 toc-link" data-title="Method 2 - WebSocket Authentication by Sending the Auth Message">Method 2 - WebSocket Authentication by Sending the Auth Message</a>
                          </li>
                          <li>
                            <a href="#authentication-response" class="toc-h3 toc-link" data-title="Authentication Response">Authentication Response</a>
                          </li>
                          <li>
                            <a href="#channel-order" class="toc-h3 toc-link" data-title="Channel: Order">Channel: Order</a>
                          </li>
                          <li>
                            <a href="#channel-account-update" class="toc-h3 toc-link" data-title="Channel: Account Update">Channel: Account Update</a>
                          </li>
                      </ul>
                  </li>
                  <li>
                    <a href="#websocket-data-request" class="toc-h2 toc-link" data-title="WebSocket - Data Request">WebSocket - Data Request</a>
                      <ul class="toc-list-h3">
                          <li>
                            <a href="#ws-account-snapshot" class="toc-h3 toc-link" data-title="WS: Account Snapshot">WS: Account Snapshot</a>
                          </li>
                          <li>
                            <a href="#ws-place-order" class="toc-h3 toc-link" data-title="WS: Place Order">WS: Place Order</a>
                          </li>
                          <li>
                            <a href="#ws-cancel-order" class="toc-h3 toc-link" data-title="WS: Cancel Order">WS: Cancel Order</a>
                          </li>
                          <li>
                            <a href="#ws-cancel-all-orders" class="toc-h3 toc-link" data-title="WS: Cancel All Orders">WS: Cancel All Orders</a>
                          </li>
                      </ul>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#appendix" class="toc-h1 toc-link" data-title="Appendix">Appendix</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#enum-definitions" class="toc-h2 toc-link" data-title="ENUM Definitions">ENUM Definitions</a>
                      <ul class="toc-list-h3">
                          <li>
                            <a href="#account-category-ac" class="toc-h3 toc-link" data-title="Account Category (<code>ac</code>)">Account Category (<code>ac</code>)</a>
                          </li>
                          <li>
                            <a href="#order-type-ordertype" class="toc-h3 toc-link" data-title="Order Type (<code>orderType</code>)">Order Type (<code>orderType</code>)</a>
                          </li>
                          <li>
                            <a href="#side-side" class="toc-h3 toc-link" data-title="Side (<code>side</code>)">Side (<code>side</code>)</a>
                          </li>
                          <li>
                            <a href="#response-type-respinst" class="toc-h3 toc-link" data-title="Response Type (<code>respInst</code>)">Response Type (<code>respInst</code>)</a>
                          </li>
                          <li>
                            <a href="#time-in-force-timeinforce" class="toc-h3 toc-link" data-title="Time in Force (<code>timeInForce</code>)">Time in Force (<code>timeInForce</code>)</a>
                          </li>
                          <li>
                            <a href="#execution-instruction-execinst" class="toc-h3 toc-link" data-title="Execution Instruction (<code>execInst</code>)">Execution Instruction (<code>execInst</code>)</a>
                          </li>
                          <li>
                            <a href="#margin-type-margintype" class="toc-h3 toc-link" data-title="Margin Type (<code>marginType</code>)">Margin Type (<code>marginType</code>)</a>
                          </li>
                          <li>
                            <a href="#websocket-operations-op" class="toc-h3 toc-link" data-title="WebSocket Operations (<code>op</code>)">WebSocket Operations (<code>op</code>)</a>
                          </li>
                          <li>
                            <a href="#websocket-message-types-m" class="toc-h3 toc-link" data-title="WebSocket Message Types (<code>m</code>)">WebSocket Message Types (<code>m</code>)</a>
                          </li>
                      </ul>
                  </li>
              </ul>
          </li>
      </ul>
        <ul class="toc-footer">
            <li><a href='https://bitmax.io'>Sign Up for BitMax.io</a></li>
        </ul>
    </div>
    <div class="page-wrapper">
      <div class="dark-box"></div>
      <div class="content">
        <h1 id='introducing-futures-pro-v2-apis-testnet-only'>Introducing Futures Pro (v2) APIs (Testnet Only)</h1><h2 id='testnet'>Testnet</h2>
<p>Testnet URL: <a href="https://api-test.bitmax-sandbox.io/">https://api-test.bitmax-sandbox.io/</a></p>

<p>You are free to register one or more accounts in the testnet. You can use the magic code <strong>888888</strong> to bypass all verification code checks 
(email verification, phone number verification, two-step authentication, etc.).</p>

<p>You accounts will automatically receive initial funding. </p>

<p>Please expect the testnet to be reset every a few days. </p>
<h2 id='demo-code'>Demo Code</h2>
<p>Python Demo: <a href="https://github.com/bitmax-exchange/bitmax-futures-api-demo-v2">https://github.com/bitmax-exchange/bitmax-futures-api-demo-v2</a></p>
<h1 id='restful-apis'>RESTful APIs</h1><h2 id='general-info-public'>General Info (Public)</h2><h3 id='futures-contracts-info'>Futures Contracts Info</h3>
<blockquote>
<p>Response - Futures Contracts Info</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="nl">"code"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nl">"symbol"</span><span class="w">          </span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC-PERP"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"status"</span><span class="w">          </span><span class="p">:</span><span class="w"> </span><span class="s2">"Normal"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"displayName"</span><span class="w">     </span><span class="p">:</span><span class="w"> </span><span class="s2">"BTCUSDT"</span><span class="p">,</span><span class="w">    </span><span class="err">//</span><span class="w"> </span><span class="err">the</span><span class="w"> </span><span class="err">name</span><span class="w"> </span><span class="err">displayed</span><span class="w"> </span><span class="err">on</span><span class="w"> </span><span class="err">the</span><span class="w"> </span><span class="err">webpage</span><span class="w">
            </span><span class="nl">"settlementAsset"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"USDT"</span><span class="p">,</span><span class="w">       </span><span class="err">//</span><span class="w"> </span><span class="err">settlement</span><span class="w"> </span><span class="err">asset</span><span class="w">
            </span><span class="nl">"underlying"</span><span class="w">      </span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC/USDT"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"tradingStartTime"</span><span class="p">:</span><span class="w"> </span><span class="mi">1579701600000</span><span class="p">,</span><span class="w">
            </span><span class="nl">"collapseDecimals"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1,0.1,0.01"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"priceFilter"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                </span><span class="nl">"minPrice"</span><span class="w">  </span><span class="p">:</span><span class="w"> </span><span class="s2">"0.25"</span><span class="p">,</span><span class="w">     </span><span class="err">//</span><span class="w"> </span><span class="err">the</span><span class="w"> </span><span class="err">order</span><span class="w"> </span><span class="err">price</span><span class="w"> </span><span class="err">cannot</span><span class="w"> </span><span class="err">be</span><span class="w"> </span><span class="err">smaller</span><span class="w"> </span><span class="err">than</span><span class="w"> </span><span class="err">the</span><span class="w"> </span><span class="err">minPrice</span><span class="w">
                </span><span class="nl">"maxPrice"</span><span class="w">  </span><span class="p">:</span><span class="w"> </span><span class="s2">"1000000"</span><span class="p">,</span><span class="w">  </span><span class="err">//</span><span class="w"> </span><span class="err">the</span><span class="w"> </span><span class="err">order</span><span class="w"> </span><span class="err">price</span><span class="w"> </span><span class="err">cannot</span><span class="w"> </span><span class="err">be</span><span class="w"> </span><span class="err">greater</span><span class="w"> </span><span class="err">than</span><span class="w"> </span><span class="err">the</span><span class="w"> </span><span class="err">maxPrice</span><span class="w">
                </span><span class="nl">"tickSize"</span><span class="w">  </span><span class="p">:</span><span class="w"> </span><span class="s2">"0.25"</span><span class="w">      </span><span class="err">//</span><span class="w"> </span><span class="err">the</span><span class="w"> </span><span class="err">order</span><span class="w"> </span><span class="err">price</span><span class="w"> </span><span class="err">must</span><span class="w"> </span><span class="err">be</span><span class="w"> </span><span class="err">a</span><span class="w"> </span><span class="err">multiple</span><span class="w"> </span><span class="err">of</span><span class="w"> </span><span class="err">the</span><span class="w"> </span><span class="err">tickSize</span><span class="w">
            </span><span class="p">},</span><span class="w">
            </span><span class="nl">"lotSizeFilter"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                </span><span class="nl">"minQty"</span><span class="w">  </span><span class="p">:</span><span class="w"> </span><span class="s2">"0.0001"</span><span class="p">,</span><span class="w">     </span><span class="err">//</span><span class="w"> </span><span class="err">the</span><span class="w"> </span><span class="err">order</span><span class="w"> </span><span class="err">quantity</span><span class="w"> </span><span class="err">cannot</span><span class="w"> </span><span class="err">be</span><span class="w"> </span><span class="err">smaller</span><span class="w"> </span><span class="err">than</span><span class="w"> </span><span class="err">the</span><span class="w"> </span><span class="err">minQty</span><span class="w">
                </span><span class="nl">"maxQty"</span><span class="w">  </span><span class="p">:</span><span class="w"> </span><span class="s2">"1000000000"</span><span class="p">,</span><span class="w"> </span><span class="err">//</span><span class="w"> </span><span class="err">the</span><span class="w"> </span><span class="err">order</span><span class="w"> </span><span class="err">quantity</span><span class="w"> </span><span class="err">cannot</span><span class="w"> </span><span class="err">be</span><span class="w"> </span><span class="err">greater</span><span class="w"> </span><span class="err">than</span><span class="w"> </span><span class="err">the</span><span class="w"> </span><span class="err">maxQty</span><span class="w">
                </span><span class="nl">"lotSize"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"0.0001"</span><span class="w">      </span><span class="err">//</span><span class="w"> </span><span class="err">the</span><span class="w"> </span><span class="err">order</span><span class="w"> </span><span class="err">quantity</span><span class="w"> </span><span class="err">must</span><span class="w"> </span><span class="err">be</span><span class="w"> </span><span class="err">a</span><span class="w"> </span><span class="err">multiple</span><span class="w"> </span><span class="err">of</span><span class="w"> </span><span class="err">the</span><span class="w"> </span><span class="err">lotSize</span><span class="w">
            </span><span class="p">},</span><span class="w">
            </span><span class="nl">"marginRequirements"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
                </span><span class="p">{</span><span class="w">
                    </span><span class="nl">"positionNotionalLowerbound"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">     </span><span class="err">//</span><span class="w"> </span><span class="err">position</span><span class="w"> </span><span class="err">lower</span><span class="w"> </span><span class="err">bound</span><span class="w">
                    </span><span class="nl">"positionNotionalUpperbound"</span><span class="p">:</span><span class="w"> </span><span class="s2">"50000"</span><span class="p">,</span><span class="w"> </span><span class="err">//</span><span class="w"> </span><span class="err">position</span><span class="w"> </span><span class="err">upper</span><span class="w"> </span><span class="err">bound</span><span class="w">
                    </span><span class="nl">"initialMarginRate"</span><span class="w">         </span><span class="p">:</span><span class="w"> </span><span class="s2">"0.01"</span><span class="p">,</span><span class="w">  </span><span class="err">//</span><span class="w"> </span><span class="err">initial</span><span class="w"> </span><span class="err">margin</span><span class="w"> </span><span class="err">rate</span><span class="w">
                    </span><span class="nl">"maintenanceMarginRate"</span><span class="w">     </span><span class="p">:</span><span class="w"> </span><span class="s2">"0.006"</span><span class="w">  </span><span class="err">//</span><span class="w"> </span><span class="err">maintenance</span><span class="w"> </span><span class="err">margin</span><span class="w"> </span><span class="err">rate</span><span class="w">
                </span><span class="p">},</span><span class="w">
                </span><span class="p">{</span><span class="w">
                    </span><span class="nl">"positionNotionalLowerbound"</span><span class="p">:</span><span class="w"> </span><span class="s2">"50000"</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"positionNotionalUpperbound"</span><span class="p">:</span><span class="w"> </span><span class="s2">"200000"</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"initialMarginRate"</span><span class="w">         </span><span class="p">:</span><span class="w"> </span><span class="s2">"0.02"</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"maintenanceMarginRate"</span><span class="w">     </span><span class="p">:</span><span class="w"> </span><span class="s2">"0.012"</span><span class="w">
                </span><span class="p">}</span><span class="w">
            </span><span class="p">]</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p>Get information for all futures contracts.</p>

<p><strong>HTTP Request</strong></p>

<p><code>GET /api/pro/v2/futures/contract</code></p>

<p><strong>Response</strong></p>
<h3 id='futures-collateral-asset-info'>Futures Collateral Asset Info</h3>
<blockquote>
<p>Response - Futures Collateral Asset Info</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="nl">"code"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nl">"asset"</span><span class="w">           </span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"assetName"</span><span class="w">       </span><span class="p">:</span><span class="w"> </span><span class="s2">"Bitcoin"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"conversionFactor"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.995"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"discountFactor"</span><span class="w">  </span><span class="p">:</span><span class="w"> </span><span class="s2">"0.98"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"displayName"</span><span class="w">     </span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"statusCode"</span><span class="w">      </span><span class="p">:</span><span class="w"> </span><span class="s2">"Normal"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nl">"asset"</span><span class="w">           </span><span class="p">:</span><span class="w"> </span><span class="s2">"USDT"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"assetName"</span><span class="w">       </span><span class="p">:</span><span class="w"> </span><span class="s2">"Tether"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"conversionFactor"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"discountFactor"</span><span class="w">  </span><span class="p">:</span><span class="w"> </span><span class="s2">"1"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"displayName"</span><span class="w">     </span><span class="p">:</span><span class="w"> </span><span class="s2">"USDT"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"statusCode"</span><span class="w">      </span><span class="p">:</span><span class="w"> </span><span class="s2">"Normal"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nl">"asset"</span><span class="w">           </span><span class="p">:</span><span class="w"> </span><span class="s2">"USDTR"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"assetName"</span><span class="w">       </span><span class="p">:</span><span class="w"> </span><span class="s2">"Futures Reward Token"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"conversionFactor"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"discountFactor"</span><span class="w">  </span><span class="p">:</span><span class="w"> </span><span class="s2">"1"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"displayName"</span><span class="w">     </span><span class="p">:</span><span class="w"> </span><span class="s2">"USDTR"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"statusCode"</span><span class="w">      </span><span class="p">:</span><span class="w"> </span><span class="s2">"NoTransaction"</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p>Get information for all futures collateral assets.</p>

<p><strong>HTTP Request</strong></p>

<p><code>GET /api/pro/v2/futures/collateral</code></p>
<h2 id='market-data-public'>Market Data (Public)</h2>
<p>Anyone can access public market data via the API endpoints. No authentication is needed. </p>
<h3 id='futures-pricing-data'>Futures Pricing Data</h3>
<blockquote>
<p>Requesting pricing data for all futures contract</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"code"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
  </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"contracts"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="nl">"time"</span><span class="w">           </span><span class="p">:</span><span class="w"> </span><span class="mi">1609368616960</span><span class="p">,</span><span class="w">       </span><span class="err">//</span><span class="w"> </span><span class="err">server</span><span class="w"> </span><span class="err">time</span><span class="w"> </span><span class="err">(UTC</span><span class="w"> </span><span class="err">timestamp</span><span class="w"> </span><span class="err">in</span><span class="w"> </span><span class="err">milliseconds)</span><span class="w">
        </span><span class="nl">"symbol"</span><span class="w">         </span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC-PERP"</span><span class="p">,</span><span class="w">          </span><span class="err">//</span><span class="w"> </span><span class="err">contract</span><span class="w"> </span><span class="err">symbol</span><span class="w">
        </span><span class="nl">"markPrice"</span><span class="w">      </span><span class="p">:</span><span class="w"> </span><span class="s2">"28097.526022138"</span><span class="p">,</span><span class="w">   </span><span class="err">//</span><span class="w"> </span><span class="err">market</span><span class="w"> </span><span class="err">price</span><span class="w"> </span><span class="err">of</span><span class="w"> </span><span class="err">the</span><span class="w"> </span><span class="err">contract</span><span class="w">
        </span><span class="nl">"indexPrice"</span><span class="w">     </span><span class="p">:</span><span class="w"> </span><span class="s2">"28768.535"</span><span class="p">,</span><span class="w">         </span><span class="err">//</span><span class="w"> </span><span class="err">price</span><span class="w"> </span><span class="err">of</span><span class="w"> </span><span class="err">the</span><span class="w"> </span><span class="err">underlying</span><span class="w"> </span><span class="err">index</span><span class="w">
        </span><span class="nl">"fundingRate"</span><span class="w">    </span><span class="p">:</span><span class="w"> </span><span class="s2">"-0.005"</span><span class="p">,</span><span class="w">            </span><span class="err">//</span><span class="w"> </span><span class="err">funding</span><span class="w"> </span><span class="err">rate</span><span class="w">
        </span><span class="nl">"nextFundingTime"</span><span class="p">:</span><span class="w"> </span><span class="mi">1609329600000</span><span class="w">        </span><span class="err">//</span><span class="w"> </span><span class="err">next</span><span class="w"> </span><span class="err">funding</span><span class="w"> </span><span class="err">time</span><span class="w"> </span><span class="err">(UTC</span><span class="w"> </span><span class="err">timestamp</span><span class="w"> </span><span class="err">in</span><span class="w"> </span><span class="err">milliseconds)</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="nl">"collaterals"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="nl">"asset"</span><span class="w">         </span><span class="p">:</span><span class="w"> </span><span class="s2">"USDTR"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"referencePrice"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1"</span><span class="w">        </span><span class="err">//</span><span class="w"> </span><span class="err">reference</span><span class="w"> </span><span class="err">price</span><span class="w"> </span><span class="err">(quote</span><span class="w"> </span><span class="err">in</span><span class="w"> </span><span class="err">USDT)</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="nl">"asset"</span><span class="w">         </span><span class="p">:</span><span class="w"> </span><span class="s2">"USDC"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"referencePrice"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.9996"</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="nl">"asset"</span><span class="w">         </span><span class="p">:</span><span class="w"> </span><span class="s2">"ETH"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"referencePrice"</span><span class="p">:</span><span class="w"> </span><span class="s2">"747.945"</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="nl">"asset"</span><span class="w">         </span><span class="p">:</span><span class="w"> </span><span class="s2">"PAX"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"referencePrice"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.9995"</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="nl">"asset"</span><span class="w">         </span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"referencePrice"</span><span class="p">:</span><span class="w"> </span><span class="s2">"28761.985"</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="nl">"asset"</span><span class="w">         </span><span class="p">:</span><span class="w"> </span><span class="s2">"USDT"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"referencePrice"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1"</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">]</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p>Get pricing data for all futures contracts. </p>

<p><strong>HTTP Request</strong></p>

<p><code>GET /api/pro/v2/futures/pricing-data</code></p>
<h2 id='authenticate-a-restful-request'>Authenticate a RESTful Request</h2><h2 id='account-data'>Account Data</h2><h3 id='account-info'>Account Info</h3>
<blockquote>
<p>Account Info - Sample response:</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="nl">"code"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"accountGroup"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
        </span><span class="nl">"email"</span><span class="p">:</span><span class="w"> </span><span class="s2">"yyzzxxz@gmail.com"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"expireTime"</span><span class="p">:</span><span class="w"> </span><span class="mi">1604620800000</span><span class="p">,</span><span class="w">         </span><span class="err">//</span><span class="w"> </span><span class="err">expire</span><span class="w"> </span><span class="err">time</span><span class="p">,</span><span class="w"> </span><span class="err">UTC</span><span class="w"> </span><span class="err">timestamp</span><span class="w"> </span><span class="err">in</span><span class="w"> </span><span class="err">milliseconds.</span><span class="w"> </span><span class="err">If</span><span class="w"> </span><span class="mi">-1</span><span class="p">,</span><span class="w"> </span><span class="err">the</span><span class="w"> </span><span class="err">api</span><span class="w"> </span><span class="err">key</span><span class="w"> </span><span class="err">will</span><span class="w"> </span><span class="err">not</span><span class="w"> </span><span class="err">expire</span><span class="w">
        </span><span class="nl">"allowedIps"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s2">"123.123.123.123"</span><span class="p">],</span><span class="w">
        </span><span class="nl">"cashAccount"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
            </span><span class="s2">"sample-cash-account-id"</span><span class="w">
        </span><span class="p">],</span><span class="w">
        </span><span class="nl">"marginAccount"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
            </span><span class="s2">"sample-margin-account-id"</span><span class="w">
        </span><span class="p">],</span><span class="w">
        </span><span class="nl">"futuresAccount"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
            </span><span class="s2">"sample-futures-account-id"</span><span class="w">
        </span><span class="p">],</span><span class="w">
        </span><span class="nl">"userUID"</span><span class="p">:</span><span class="w">            </span><span class="s2">"U0866943712"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"tradePermission"</span><span class="p">:</span><span class="w">     </span><span class="kc">true</span><span class="p">,</span><span class="w">
        </span><span class="nl">"transferPermission"</span><span class="p">:</span><span class="w">  </span><span class="kc">true</span><span class="p">,</span><span class="w">
        </span><span class="nl">"viewPermission"</span><span class="p">:</span><span class="w">      </span><span class="kc">true</span><span class="p">,</span><span class="w">
        </span><span class="nl">"limitQuota"</span><span class="p">:</span><span class="w">          </span><span class="mi">1000</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p><strong>HTTP Request</strong> </p>

<p><code>GET /api/pro/v2/account/info</code></p>

<p><strong>Signature</strong></p>

<p>You should sign the message in header as specified in <a href="#sign-a-request"><strong>Authenticate a RESTful Request</strong></a> section.</p>

<p><strong>prehash string</strong> </p>

<p><code>v2/account/info</code></p>

<p>Obtain the account information. </p>

<p>You can obtain your <code>accountGroup</code> from this API, which you will need to include in the URL for all your private RESTful requests.</p>
<h4 id='response-content'>Response Content</h4>
<table><thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>accountGroup</td>
<td>Int</td>
<td>non-negative integer</td>
</tr>
<tr>
<td>email</td>
<td>String</td>
<td></td>
</tr>
<tr>
<td>expireTime</td>
<td>Long</td>
<td>the time when the API key will be expired (UTC timestamp in milliseconds). If -1, the api key will not expire</td>
</tr>
<tr>
<td>allowedIps</td>
<td>List[String]</td>
<td>list of IPs allowed for the api key</td>
</tr>
<tr>
<td>cashAccount</td>
<td>List[String]</td>
<td></td>
</tr>
<tr>
<td>marginAccount</td>
<td>List[String]</td>
<td></td>
</tr>
<tr>
<td>tradePermission</td>
<td>Boolean</td>
<td></td>
</tr>
<tr>
<td>transferPermission</td>
<td>Boolean</td>
<td></td>
</tr>
<tr>
<td>viewPermission</td>
<td>Boolean</td>
<td></td>
</tr>
<tr>
<td>userUID</td>
<td>String</td>
<td>an unique id associated with user</td>
</tr>
</tbody></table>

<p>See a demo at <a href="https://github.com/bitmax-exchange/bitmax-pro-api-demo/blob/master/python/query_prv_account_info.py">query private account info</a>.</p>
<h3 id='position'>Position</h3>
<blockquote>
<p>Response</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="nl">"code"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"ac"</span><span class="w">             </span><span class="p">:</span><span class="w"> </span><span class="s2">"FUTURES"</span><span class="p">,</span><span class="w">                   </span><span class="err">//</span><span class="w"> </span><span class="err">account</span><span class="w"> </span><span class="err">category</span><span class="w">
        </span><span class="nl">"accountId"</span><span class="w">      </span><span class="p">:</span><span class="w"> </span><span class="s2">"sample-futures-account-id"</span><span class="p">,</span><span class="w"> </span><span class="err">//</span><span class="w"> </span><span class="err">account</span><span class="w"> </span><span class="err">ID</span><span class="w">
        </span><span class="nl">"collaterals"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
            </span><span class="p">{</span><span class="w">
                </span><span class="nl">"asset"</span><span class="w">         </span><span class="p">:</span><span class="w"> </span><span class="s2">"ETH"</span><span class="p">,</span><span class="w">          </span><span class="err">//</span><span class="w"> </span><span class="err">collateral</span><span class="w"> </span><span class="err">asset</span><span class="w"> 
                </span><span class="nl">"balance"</span><span class="w">       </span><span class="p">:</span><span class="w"> </span><span class="s2">"100"</span><span class="p">,</span><span class="w">          </span><span class="err">//</span><span class="w"> </span><span class="err">balance</span><span class="w"> 
                </span><span class="nl">"discountFactor"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.95"</span><span class="p">,</span><span class="w">         </span><span class="err">//</span><span class="w"> </span><span class="err">discount</span><span class="w"> </span><span class="err">factor</span><span class="w">
                </span><span class="nl">"referencePrice"</span><span class="p">:</span><span class="w"> </span><span class="s2">"481.79793092"</span><span class="w">  </span><span class="err">//</span><span class="w"> </span><span class="err">reference</span><span class="w"> </span><span class="err">price</span><span class="w"> </span><span class="err">(quote</span><span class="w"> </span><span class="err">in</span><span class="w"> </span><span class="err">USDT)</span><span class="w">
            </span><span class="p">},</span><span class="w">
            </span><span class="p">{</span><span class="w">
                </span><span class="nl">"asset"</span><span class="w">         </span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"balance"</span><span class="w">       </span><span class="p">:</span><span class="w"> </span><span class="s2">"10"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"discountFactor"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.98"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"referencePrice"</span><span class="p">:</span><span class="w"> </span><span class="s2">"17600.095"</span><span class="w">
            </span><span class="p">},</span><span class="w">
            </span><span class="p">{</span><span class="w">
                </span><span class="nl">"asset"</span><span class="w">         </span><span class="p">:</span><span class="w"> </span><span class="s2">"USDT"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"balance"</span><span class="w">       </span><span class="p">:</span><span class="w"> </span><span class="s2">"10000"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"discountFactor"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"referencePrice"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1"</span><span class="w">
            </span><span class="p">}</span><span class="w">
        </span><span class="p">],</span><span class="w">
        </span><span class="nl">"contracts"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
            </span><span class="p">{</span><span class="w">
                </span><span class="nl">"symbol"</span><span class="w">               </span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC-PERP"</span><span class="p">,</span><span class="w">     </span><span class="err">//</span><span class="w"> </span><span class="err">contract</span><span class="w"> </span><span class="err">symbol</span><span class="w">
                </span><span class="nl">"side"</span><span class="w">                 </span><span class="p">:</span><span class="w"> </span><span class="s2">"LONG"</span><span class="p">,</span><span class="w">         </span><span class="err">//</span><span class="w"> </span><span class="err">side</span><span class="w">
                </span><span class="nl">"position"</span><span class="w">             </span><span class="p">:</span><span class="w"> </span><span class="s2">"0.5"</span><span class="p">,</span><span class="w">          </span><span class="err">//</span><span class="w"> </span><span class="err">positive</span><span class="w"> </span><span class="err">for</span><span class="w"> </span><span class="err">long</span><span class="w"> </span><span class="err">position</span><span class="w"> </span><span class="err">and</span><span class="w"> </span><span class="err">negative</span><span class="w"> </span><span class="err">for</span><span class="w"> </span><span class="err">short</span><span class="w"> </span><span class="err">position</span><span class="w">
                </span><span class="nl">"referenceCost"</span><span class="w">        </span><span class="p">:</span><span class="w"> </span><span class="s2">"16800"</span><span class="p">,</span><span class="w">        </span><span class="err">//</span><span class="w"> </span><span class="err">reference</span><span class="w"> </span><span class="err">cost</span><span class="w">
                </span><span class="nl">"unrealizedPnl"</span><span class="w">        </span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">            </span><span class="err">//</span><span class="w"> </span><span class="err">unrealized</span><span class="w"> </span><span class="err">pnl</span><span class="w"> 
                </span><span class="nl">"realizedPnl"</span><span class="w">          </span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">            </span><span class="err">//</span><span class="w"> </span><span class="err">realized</span><span class="w"> </span><span class="err">pnl</span><span class="w">
                </span><span class="nl">"avgOpenPrice"</span><span class="w">         </span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">            </span><span class="err">//</span><span class="w"> </span><span class="err">Average</span><span class="w"> </span><span class="err">Opening</span><span class="w"> </span><span class="err">Price</span><span class="w">
                </span><span class="nl">"marginType"</span><span class="w">           </span><span class="p">:</span><span class="w"> </span><span class="s2">"cross"</span><span class="p">,</span><span class="w">        </span><span class="err">//</span><span class="w"> </span><span class="err">margin</span><span class="w"> </span><span class="err">type:</span><span class="w"> </span><span class="err">isolated</span><span class="w"> </span><span class="err">/</span><span class="w"> </span><span class="err">cross</span><span class="w">
                </span><span class="nl">"isolatedMargin"</span><span class="w">       </span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">            </span><span class="err">//</span><span class="w"> </span><span class="err">isolated</span><span class="w"> </span><span class="err">margin</span><span class="w">
                </span><span class="nl">"leverage"</span><span class="w">             </span><span class="p">:</span><span class="w"> </span><span class="s2">"10"</span><span class="p">,</span><span class="w">           </span><span class="err">//</span><span class="w"> </span><span class="err">leverage</span><span class="w">
                </span><span class="nl">"takeProfitPrice"</span><span class="w">      </span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">            </span><span class="err">//</span><span class="w"> </span><span class="err">take</span><span class="w"> </span><span class="err">profit</span><span class="w"> </span><span class="err">price</span><span class="w"> </span><span class="err">(by</span><span class="w"> </span><span class="err">position</span><span class="w"> </span><span class="err">exit</span><span class="w"> </span><span class="err">order)</span><span class="w">
                </span><span class="nl">"takeProfitTrigger"</span><span class="w">    </span><span class="p">:</span><span class="w"> </span><span class="s2">"market"</span><span class="p">,</span><span class="w">       </span><span class="err">//</span><span class="w"> </span><span class="err">take</span><span class="w"> </span><span class="err">profit</span><span class="w"> </span><span class="err">trigger</span><span class="w"> </span><span class="err">(by</span><span class="w"> </span><span class="err">position</span><span class="w"> </span><span class="err">exit</span><span class="w"> </span><span class="err">order)</span><span class="w">
                </span><span class="nl">"stopLossPrice"</span><span class="w">        </span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">            </span><span class="err">//</span><span class="w"> </span><span class="err">stop</span><span class="w"> </span><span class="err">loss</span><span class="w"> </span><span class="err">price</span><span class="w"> </span><span class="err">(by</span><span class="w"> </span><span class="err">position</span><span class="w"> </span><span class="err">exit</span><span class="w"> </span><span class="err">order)</span><span class="w">
                </span><span class="nl">"stopLossTrigger"</span><span class="w">      </span><span class="p">:</span><span class="w"> </span><span class="s2">"market"</span><span class="p">,</span><span class="w">       </span><span class="err">//</span><span class="w"> </span><span class="err">stop</span><span class="w"> </span><span class="err">loss</span><span class="w"> </span><span class="err">trigger</span><span class="w"> </span><span class="err">(by</span><span class="w"> </span><span class="err">position</span><span class="w"> </span><span class="err">exit</span><span class="w"> </span><span class="err">order)</span><span class="w">
                </span><span class="nl">"buyOpenOrderNotional"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"1362.419625"</span><span class="p">,</span><span class="w">  </span><span class="err">//</span><span class="w"> </span><span class="err">buy</span><span class="w"> </span><span class="err">open</span><span class="w"> </span><span class="err">order</span><span class="w"> </span><span class="err">notional</span><span class="w">
                </span><span class="nl">"sellOpenOrderNotional"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">            </span><span class="err">//</span><span class="w"> </span><span class="err">sell</span><span class="w"> </span><span class="err">open</span><span class="w"> </span><span class="err">order</span><span class="w"> </span><span class="err">notional</span><span class="w">
                </span><span class="nl">"indexPrice"</span><span class="w">           </span><span class="p">:</span><span class="w"> </span><span class="s2">"17600.095"</span><span class="p">,</span><span class="w">    </span><span class="err">//</span><span class="w"> </span><span class="err">price</span><span class="w"> </span><span class="err">of</span><span class="w"> </span><span class="err">the</span><span class="w"> </span><span class="err">contract's</span><span class="w"> </span><span class="err">underlying</span><span class="w"> </span><span class="err">product</span><span class="w"> </span><span class="err">price</span><span class="w">
                </span><span class="nl">"markPrice"</span><span class="w">            </span><span class="p">:</span><span class="w"> </span><span class="s2">"-1"</span><span class="w">            </span><span class="err">//</span><span class="w"> </span><span class="err">contract's</span><span class="w"> </span><span class="err">mark</span><span class="w"> </span><span class="err">price</span><span class="w">
            </span><span class="p">}</span><span class="w">
        </span><span class="p">]</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p>Get current position data - a full snapshot of your futures account. </p>

<p><strong>HTTP Request</strong></p>

<p><code>GET /&lt;grp&gt;/api/pro/v2/futures/position</code></p>

<p><strong>Prehash String</strong></p>

<p><code>v2/futures/position</code></p>
<h3 id='free-margin'>Free Margin</h3>
<blockquote>
<p>Response</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"code"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
  </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"collaterals"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="nl">"asset"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC"</span><span class="p">,</span><span class="w">              </span><span class="err">//</span><span class="w"> </span><span class="err">collateral</span><span class="w"> </span><span class="err">asset</span><span class="w">
        </span><span class="nl">"availableForTransfer"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1"</span><span class="w">  </span><span class="err">//</span><span class="w"> </span><span class="err">maximum</span><span class="w"> </span><span class="err">amount</span><span class="w"> </span><span class="err">allowed</span><span class="w"> </span><span class="err">to</span><span class="w"> </span><span class="err">be</span><span class="w"> </span><span class="err">transferred</span><span class="w"> </span><span class="err">out</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="nl">"asset"</span><span class="p">:</span><span class="w"> </span><span class="s2">"USDT"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"availableForTransfer"</span><span class="p">:</span><span class="w"> </span><span class="s2">"10000"</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="nl">"crossed"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nl">"freeMargin"</span><span class="p">:</span><span class="w"> </span><span class="s2">"30000"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nl">"isolated"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="nl">"freeMargin"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"symbol"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC-PERP"</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">]</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p>Get free margin for each margin group (crossed &amp; isolated) and amount avaible for withdrawal for each collateral asset.</p>

<p>See <a href="#change-margin-for-isolated-positions">Change Margin</a> on how to increase or decrease margin for the isolated position.</p>

<p><img src="images/change-isolated-margin-e467ce09.png" alt="change-isolated-margin" /></p>

<p><strong>HTTP Request</strong></p>

<p><code>GET /&lt;grp&gt;/api/pro/v2/futures/free-margin</code></p>

<p><strong>Prehash String</strong></p>

<p><code>v2/futures/free-margin</code></p>
<h3 id='change-margin-for-isolated-positions'>Change Margin (for Isolated Positions)</h3>
<blockquote>
<p>Successful Response</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="nl">"code"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p>You can only change margin for isolated margin positions.</p>

<p>See <a href="#free-margin">Free Margin</a> on the maximum amount you can increase / decrease the isolated margin.</p>

<p><strong>HTTP Request</strong></p>

<p><code>POST /&lt;grp&gt;/api/pro/v2/futures/isolated-position-margin</code></p>

<p><strong>Prehash String</strong></p>

<p><code>v2/futures/isolated-position-margin</code></p>

<p><strong>Request Parameters</strong></p>

<table><thead>
<tr>
<th>PARAMETER</th>
<th>TYPE</th>
<th>REQUIRED</th>
<th>DESCRIPTION</th>
</tr>
</thead><tbody>
<tr>
<td>symbol</td>
<td>String</td>
<td>Yes</td>
<td>e.g. <code>BTC-PERP</code></td>
</tr>
<tr>
<td>amount</td>
<td>String</td>
<td>Yes</td>
<td>margin amount in string type, e.g. &quot;100&quot;. Set <code>amount</code> to positive will increase the isolated margin; set <code>amount</code></td>
</tr>
</tbody></table>

<p>to a negative number will decrease the isolated margin. </p>
<h3 id='change-margin-type'>Change Margin Type</h3>
<blockquote>
<p>Response</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="nl">"code"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p>You can change the margin type of a position:</p>

<ul>
<li>crossed margin (<code>crossed</code>) </li>
<li>isolated margin (<code>isolated</code>)</li>
</ul>

<p><img src="images/change-margin-type-80d9ddf0.png" alt="change-margin-type" /></p>

<p><strong>HTTP Request</strong></p>

<p><code>POST /&lt;grp&gt;/api/pro/v2/futures/margin-type</code></p>

<p><strong>Prehash String</strong></p>

<p><code>v2/futures/margin-type</code></p>

<p><strong>Request Parameters</strong></p>

<table><thead>
<tr>
<th>PARAMETER</th>
<th>TYPE</th>
<th>REQUIRED</th>
<th>DESCRIPTION</th>
</tr>
</thead><tbody>
<tr>
<td>symbol</td>
<td>String</td>
<td>Yes</td>
<td>e.g. <code>BTC-PERP</code></td>
</tr>
<tr>
<td><a href="#margin-type-margintype">marginType</a></td>
<td>ENUM</td>
<td>Yes</td>
<td>You can switch between two margin types: <code>isolated</code> and <code>crossed</code></td>
</tr>
</tbody></table>
<h3 id='change-contract-leverage'>Change Contract Leverage</h3>
<blockquote>
<p>Response</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="nl">"code"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"leverage"</span><span class="p">:</span><span class="w"> </span><span class="mi">10</span><span class="p">,</span><span class="w">
        </span><span class="nl">"symbol"</span><span class="w">  </span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC-PERP"</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p><strong>HTTP Request</strong></p>

<p><code>POST /&lt;grp&gt;/api/pro/v2/futures/leverage</code></p>

<p><strong>Request Parameters</strong></p>

<table><thead>
<tr>
<th>PARAMETER</th>
<th>TYPE</th>
<th>REQUIRED</th>
<th>DESCRIPTION</th>
</tr>
</thead><tbody>
<tr>
<td>symbol</td>
<td>String</td>
<td>Yes</td>
<td>e.g. <code>BTC-PERP</code></td>
</tr>
<tr>
<td>leverage</td>
<td>Int</td>
<td>Yes</td>
<td>the leverage should be an integer between <code>1</code> and <code>100</code></td>
</tr>
</tbody></table>
<h3 id='deposit-to-the-futures-account'>Deposit to the Futures Account</h3>
<blockquote>
<p>Successful Response</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="nl">"code"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p>You can deposit collateral assets to your Futures account from your Cash account.</p>

<p><strong>HTTP Request</strong></p>

<p><code>POST /&lt;grp&gt;/api/pro/v2/futures/transfer/deposit</code></p>

<p><strong>Prehash String</strong></p>

<p><code>v2/futures/transfer/deposit</code></p>

<p><strong>Request Parameters</strong></p>

<table><thead>
<tr>
<th>PARAMETER</th>
<th>TYPE</th>
<th>REQUIRED</th>
<th>DESCRIPTION</th>
</tr>
</thead><tbody>
<tr>
<td>asset</td>
<td>String</td>
<td>Yes</td>
<td>e.g. <code>BTC</code></td>
</tr>
<tr>
<td>amount</td>
<td>String</td>
<td>Yes</td>
<td>the amount to deposit in string type, e.g. &quot;1&quot;. Only positive value is allowed.</td>
</tr>
</tbody></table>
<h3 id='withdraw-from-the-futures-account'>Withdraw from the Futures Account</h3>
<blockquote>
<p>Successful Response</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="nl">"code"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p>You can withdraw collateral assets from your Futures account to your Cash account.</p>

<p><strong>HTTP Request</strong></p>

<p><code>POST /&lt;grp&gt;/api/pro/v2/futures/transfer/withdraw</code></p>

<p><strong>Prehash String</strong></p>

<p><code>v2/futures/transfer/withdraw</code></p>

<p><strong>Request Parameters</strong></p>

<table><thead>
<tr>
<th>PARAMETER</th>
<th>TYPE</th>
<th>REQUIRED</th>
<th>DESCRIPTION</th>
</tr>
</thead><tbody>
<tr>
<td>asset</td>
<td>String</td>
<td>Yes</td>
<td>e.g. <code>BTC</code></td>
</tr>
<tr>
<td>amount</td>
<td>String</td>
<td>Yes</td>
<td>the amount to withdraw in string type, e.g. &quot;1&quot;. Only positive value is allowed.</td>
</tr>
</tbody></table>
<h2 id='order'>Order</h2><h3 id='generate-order-id'>Generate Order Id</h3>
<p>We use the following method to generate an unique id for each order place/cancel request. (You could get <code>userUID</code> from <code>Account Info</code> API.)</p>

<p><strong>Method</strong></p>

<ul>
<li><p>A = &#39;a&#39; for order via rest api, or &#39;s&#39; for order via websocket;</p></li>
<li><p>B = Convert timestamp (in miliseconds) to hex string;</p></li>
<li><p>C = User UID (11 chars, starting with &#39;U&#39; followed by 10 digits);</p></li>
<li><p>D = If user provide client order Id (with length &gt;= 9, letters and digits only), then take the right 9 chars; otherwise, we randomly generate 9 chars;</p></li>
<li><p>Final order Id is concatenation of strings A, B, C, D from above steps, i.e., orderId = A + B + C + D.</p></li>
</ul>

<p><strong>Extra info on <code>id</code></strong></p>

<ul>
<li><p><code>id</code> value must satisfy regrex pattern <code>&quot;^\w[\w\-]*\w$&quot;</code> (i.e. start and end with word character), and with length up to 32.  (&quot;Invalid Client Order id&quot; error for violation)</p></li>
<li><p><code>id</code> value with length 9 is recommended, since we take the right most 9 chars for order Id generation.</p></li>
<li><p><code>id</code> value with length &lt; 9 will not be used in order Id generation, but we still echo it back in order ack message (empty string when no <code>id</code> value provided).</p></li>
<li><p>If a valid <code>id</code> value is provided when placing order, order Id from server side is pre-determined. This could be helpful for order status check in case of accidently internet connection issue.</p></li>
</ul>

<p><strong>Code Sample</strong></p>

<p>Please refer to python code to <a href="https://github.com/bitmax-exchange/bitmax-futures-api-demo-v2/blob/80942a5f2414a01c72d2ed660957a9e8d29a511e/cli/util.py#L82">gen server order id</a></p>
<h3 id='new-order'>New Order</h3>
<blockquote>
<p>Response</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="nl">"code"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"meta"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nl">"action"</span><span class="w">  </span><span class="p">:</span><span class="w"> </span><span class="s2">"place-order"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"id"</span><span class="w">      </span><span class="p">:</span><span class="w"> </span><span class="s2">"abcd1234abcd1234"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"respInst"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ACCEPT"</span><span class="w">   </span><span class="err">//</span><span class="w"> </span><span class="err">ACK</span><span class="p">,</span><span class="w"> </span><span class="err">ACCEPT</span><span class="p">,</span><span class="w"> </span><span class="err">or</span><span class="w"> </span><span class="err">DONE</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="nl">"order"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nl">"ac"</span><span class="w">          </span><span class="p">:</span><span class="w"> </span><span class="s2">"FUTURES"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"accountId"</span><span class="w">   </span><span class="p">:</span><span class="w"> </span><span class="s2">"sample-futures-account-id"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"seqNum"</span><span class="w">      </span><span class="p">:</span><span class="w"> </span><span class="mi">14</span><span class="p">,</span><span class="w">    </span><span class="err">//</span><span class="w"> </span><span class="err">sequence</span><span class="w"> </span><span class="err">number</span><span class="p">,</span><span class="w"> </span><span class="err">also</span><span class="w"> </span><span class="mi">-1</span><span class="w"> </span><span class="err">in</span><span class="w"> </span><span class="err">ACK</span><span class="w"> </span><span class="err">mode</span><span class="w">
            </span><span class="nl">"time"</span><span class="w">        </span><span class="p">:</span><span class="w"> </span><span class="mi">1605677683714</span><span class="p">,</span><span class="w">
            </span><span class="nl">"orderId"</span><span class="w">     </span><span class="p">:</span><span class="w"> </span><span class="s2">"sample-order-id"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"orderType"</span><span class="w">   </span><span class="p">:</span><span class="w"> </span><span class="s2">"Limit"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"side"</span><span class="w">        </span><span class="p">:</span><span class="w"> </span><span class="s2">"Buy"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"symbol"</span><span class="w">      </span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC-PERP"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"price"</span><span class="w">       </span><span class="p">:</span><span class="w"> </span><span class="s2">"9500"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"orderQty"</span><span class="w">    </span><span class="p">:</span><span class="w"> </span><span class="s2">"0.1"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"stopPrice"</span><span class="w">   </span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"stopBy"</span><span class="w">      </span><span class="p">:</span><span class="w"> </span><span class="s2">"market"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"status"</span><span class="w">      </span><span class="p">:</span><span class="w"> </span><span class="s2">"New"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"lastExecTime"</span><span class="p">:</span><span class="w"> </span><span class="mi">1605677684479</span><span class="p">,</span><span class="w">
            </span><span class="nl">"lastPx"</span><span class="w">      </span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"lastQty"</span><span class="w">     </span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"avgFilledPx"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"cumFilledQty"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"fee"</span><span class="w">         </span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"cumFee"</span><span class="w">      </span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"feeAsset"</span><span class="w">    </span><span class="p">:</span><span class="w"> </span><span class="s2">"USDT"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"errorCode"</span><span class="w">   </span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p><strong>HTTP Request</strong></p>

<p><code>POST /&lt;grp&gt;/api/pro/v2/futures/order</code></p>

<p><strong>Prehash String</strong></p>

<p><code>v2/futures/order</code></p>

<p><strong>Request Parameters</strong></p>

<table><thead>
<tr>
<th>PARAMETER</th>
<th>TYPE</th>
<th>REQUIRED</th>
<th>DESCRIPTION</th>
</tr>
</thead><tbody>
<tr>
<td>id</td>
<td>String</td>
<td></td>
<td>&gt;=9 chars (letter and digit number only). Optional but recommended. We echo it back to help you match response with request. By setting this field, you can obtain the orderId before sending the request. It is also useful when you place order in batch mode.</td>
</tr>
<tr>
<td>time</td>
<td>Long</td>
<td>Yes</td>
<td>Milliseconds since UNIX epoch in UTC. We do not process request placed more than 30 seconds ago.</td>
</tr>
<tr>
<td>symbol</td>
<td>String</td>
<td>Yes</td>
<td>e.g. <code>BTC-PERP</code></td>
</tr>
<tr>
<td>price</td>
<td>String</td>
<td></td>
<td>Required for <code>Limit</code> and <code>StopLimit</code> orders</td>
</tr>
<tr>
<td>orderQty</td>
<td>String</td>
<td>Yes</td>
<td>Order size. Please set scale properly for each symbol.</td>
</tr>
<tr>
<td><a href="#order-type-ordertype">orderType</a></td>
<td>ENUM</td>
<td>Yes</td>
<td></td>
</tr>
<tr>
<td><a href="#side-side">side</a></td>
<td>ENUM</td>
<td>Yes</td>
<td></td>
</tr>
<tr>
<td><a href="#response-type-respinst">respInst</a></td>
<td>ENUM</td>
<td></td>
<td><code>ACK</code> by default</td>
</tr>
<tr>
<td>postOnly</td>
<td>Boolean</td>
<td></td>
<td><code>false</code> by default</td>
</tr>
<tr>
<td>stopPrice</td>
<td>String</td>
<td></td>
<td>required for <code>StopLimit</code> and <code>StopMarket</code> orders</td>
</tr>
<tr>
<td><a href="#time-in-force-timeinforce">timeInForce</a></td>
<td>ENUM</td>
<td></td>
<td><code>GTC</code> by default</td>
</tr>
<tr>
<td><a href="#execution-instruction-execinst">execInst</a></td>
<td>ENUM</td>
<td></td>
<td></td>
</tr>
<tr>
<td>posStopLossPrice</td>
<td>String</td>
<td></td>
<td>position stop loss price</td>
</tr>
<tr>
<td>posTakeProfitPrice</td>
<td>String</td>
<td></td>
<td>position take profit price</td>
</tr>
</tbody></table>
<h3 id='cancel-order'>Cancel Order</h3>
<blockquote>
<p>Response</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="nl">"code"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"meta"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nl">"action"</span><span class="w">  </span><span class="p">:</span><span class="w"> </span><span class="s2">"cancel-order"</span><span class="p">,</span><span class="w">       </span><span class="err">//</span><span class="w"> </span><span class="err">action</span><span class="w">
            </span><span class="nl">"id"</span><span class="w">      </span><span class="p">:</span><span class="w"> </span><span class="s2">"abcd1234abcd1234"</span><span class="p">,</span><span class="w">   </span><span class="err">//</span><span class="w"> </span><span class="err">user</span><span class="w"> </span><span class="err">provided</span><span class="w"> </span><span class="err">ID</span><span class="w">
            </span><span class="nl">"respInst"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ACCEPT"</span><span class="w">              </span><span class="err">//</span><span class="w"> </span><span class="err">response</span><span class="w"> </span><span class="err">instruction</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="nl">"order"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nl">"ac"</span><span class="w">          </span><span class="p">:</span><span class="w"> </span><span class="s2">"FUTURES"</span><span class="p">,</span><span class="w">                    </span><span class="err">//</span><span class="w"> </span><span class="err">account</span><span class="w"> </span><span class="err">category</span><span class="w">
            </span><span class="nl">"accountId"</span><span class="w">   </span><span class="p">:</span><span class="w"> </span><span class="s2">"sample-futures-account-id"</span><span class="p">,</span><span class="w">  </span><span class="err">//</span><span class="w"> </span><span class="err">account</span><span class="w"> </span><span class="err">ID</span><span class="w">
            </span><span class="nl">"seqNum"</span><span class="w">      </span><span class="p">:</span><span class="w"> </span><span class="mi">14</span><span class="p">,</span><span class="w">                           </span><span class="err">//</span><span class="w"> </span><span class="err">sequence</span><span class="w"> </span><span class="err">number</span><span class="w">
            </span><span class="nl">"time"</span><span class="w">        </span><span class="p">:</span><span class="w"> </span><span class="mi">1605677683714</span><span class="p">,</span><span class="w">                </span><span class="err">//</span><span class="w"> </span><span class="err">order</span><span class="w"> </span><span class="err">creation</span><span class="w"> </span><span class="err">time</span><span class="w"> </span><span class="err">(UTC</span><span class="w"> </span><span class="err">time</span><span class="w"> </span><span class="err">in</span><span class="w"> </span><span class="err">milliseconds)</span><span class="w">
            </span><span class="nl">"orderId"</span><span class="w">     </span><span class="p">:</span><span class="w"> </span><span class="s2">"sample-order-id"</span><span class="p">,</span><span class="w">            </span><span class="err">//</span><span class="w"> </span><span class="err">order</span><span class="w"> </span><span class="err">ID</span><span class="w">
            </span><span class="nl">"orderType"</span><span class="w">   </span><span class="p">:</span><span class="w"> </span><span class="s2">"Limit"</span><span class="p">,</span><span class="w">                      </span><span class="err">//</span><span class="w"> </span><span class="err">order</span><span class="w"> </span><span class="err">type</span><span class="w">
            </span><span class="nl">"side"</span><span class="w">        </span><span class="p">:</span><span class="w"> </span><span class="s2">"Buy"</span><span class="p">,</span><span class="w">                        </span><span class="err">//</span><span class="w"> </span><span class="err">side</span><span class="w">
            </span><span class="nl">"symbol"</span><span class="w">      </span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC-PERP"</span><span class="p">,</span><span class="w">                   </span><span class="err">//</span><span class="w"> </span><span class="err">contract</span><span class="w"> </span><span class="err">symbol</span><span class="w">
            </span><span class="nl">"price"</span><span class="w">       </span><span class="p">:</span><span class="w"> </span><span class="s2">"9500"</span><span class="p">,</span><span class="w">                       </span><span class="err">//</span><span class="w"> </span><span class="err">order</span><span class="w"> </span><span class="err">price</span><span class="w"> 
            </span><span class="nl">"orderQty"</span><span class="w">    </span><span class="p">:</span><span class="w"> </span><span class="s2">"0.1"</span><span class="p">,</span><span class="w">                        </span><span class="err">//</span><span class="w"> </span><span class="err">order</span><span class="w"> </span><span class="err">qty</span><span class="w">
            </span><span class="nl">"stopPrice"</span><span class="w">   </span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">                          </span><span class="err">//</span><span class="w"> </span><span class="err">stop</span><span class="w"> </span><span class="err">price</span><span class="w">
            </span><span class="nl">"stopBy"</span><span class="w">      </span><span class="p">:</span><span class="w"> </span><span class="s2">"market"</span><span class="p">,</span><span class="w">                     </span><span class="err">//</span><span class="w"> </span><span class="err">stop</span><span class="w"> </span><span class="err">price</span><span class="w"> </span><span class="err">trigger</span><span class="w"> 
            </span><span class="nl">"status"</span><span class="w">      </span><span class="p">:</span><span class="w"> </span><span class="s2">"Canceled"</span><span class="p">,</span><span class="w">                   </span><span class="err">//</span><span class="w"> </span><span class="err">order</span><span class="w"> </span><span class="err">status</span><span class="w">
            </span><span class="nl">"lastExecTime"</span><span class="p">:</span><span class="w"> </span><span class="mi">1605677684479</span><span class="p">,</span><span class="w">                </span><span class="err">//</span><span class="w"> </span><span class="err">last</span><span class="w"> </span><span class="err">execution</span><span class="w"> </span><span class="err">time</span><span class="w"> </span><span class="err">(UTC</span><span class="w"> </span><span class="err">time</span><span class="w"> </span><span class="err">in</span><span class="w"> </span><span class="err">milliseconds)</span><span class="w">
            </span><span class="nl">"lastPx"</span><span class="w">      </span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">                          </span><span class="err">//</span><span class="w"> </span><span class="err">last</span><span class="w"> </span><span class="err">filled</span><span class="w"> </span><span class="err">price</span><span class="w">
            </span><span class="nl">"lastQty"</span><span class="w">     </span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">                          </span><span class="err">//</span><span class="w"> </span><span class="err">last</span><span class="w"> </span><span class="err">filled</span><span class="w"> </span><span class="err">quantity</span><span class="w">
            </span><span class="nl">"avgFilledPx"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">                          </span><span class="err">//</span><span class="w"> </span><span class="err">average</span><span class="w"> </span><span class="err">filled</span><span class="w"> </span><span class="err">price</span><span class="w"> </span><span class="err">of</span><span class="w"> </span><span class="err">all</span><span class="w"> </span><span class="err">fills</span><span class="w"> 
            </span><span class="nl">"cumFilledQty"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">                          </span><span class="err">//</span><span class="w"> </span><span class="err">cummulative</span><span class="w"> </span><span class="err">filled</span><span class="w"> </span><span class="err">quantity</span><span class="w">
            </span><span class="nl">"fee"</span><span class="w">         </span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">                          </span><span class="err">//</span><span class="w"> </span><span class="err">fee</span><span class="w"> </span><span class="err">of</span><span class="w"> </span><span class="err">the</span><span class="w"> </span><span class="err">last</span><span class="w"> </span><span class="err">fill</span><span class="w">
            </span><span class="nl">"cumFee"</span><span class="w">      </span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">                          </span><span class="err">//</span><span class="w"> </span><span class="err">cummulative</span><span class="w"> </span><span class="err">fee</span><span class="w">
            </span><span class="nl">"feeAsset"</span><span class="w">    </span><span class="p">:</span><span class="w"> </span><span class="s2">"USDT"</span><span class="p">,</span><span class="w">                       </span><span class="err">//</span><span class="w"> </span><span class="err">fee</span><span class="w"> </span><span class="err">asset</span><span class="w">
            </span><span class="nl">"errorCode"</span><span class="w">   </span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="w">                            </span><span class="err">//</span><span class="w"> </span><span class="err">error</span><span class="w"> </span><span class="err">code</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p><strong>HTTP Request</strong></p>

<p><code>POST /&lt;grp&gt;/api/pro/v2/futures/order</code></p>

<p><strong>Prehash String</strong></p>

<p><code>v2/futures/order</code></p>

<p><strong>Request Parameters</strong></p>

<table><thead>
<tr>
<th>PARAMETER</th>
<th>TYPE</th>
<th>REQUIRED</th>
<th>DESCRIPTION</th>
</tr>
</thead><tbody>
<tr>
<td>id</td>
<td>String</td>
<td></td>
<td>&gt;=9 chars (letter and digit number only). Optional but recommended. We echo it back to help you match response with request. This is especially useful when you cancel in batch mode.</td>
</tr>
<tr>
<td>orderId</td>
<td>String</td>
<td>Yes</td>
<td>32 chars order id. You should set the value to be the orderId of the target order you want to cancel.</td>
</tr>
<tr>
<td>symbol</td>
<td>String</td>
<td>Yes</td>
<td>Symbol of the order to cancel</td>
</tr>
<tr>
<td>time</td>
<td>Long</td>
<td>Yes</td>
<td>milliseconds since UNIX epoch in UTC. We do not process request sent more than 30 seconds ago.</td>
</tr>
<tr>
<td><a href="#response-type-respinst">respInst</a></td>
<td>ENUM</td>
<td></td>
<td><code>ACK</code> by default</td>
</tr>
</tbody></table>

<p><strong>Response</strong></p>

<p><em>respInst</em></p>
<h3 id='cancel-all-open-orders'>Cancel All Open Orders</h3>
<blockquote>
<p>Response</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="nl">"code"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p><strong>HTTP Request</strong></p>

<p><code>DELETE /&lt;grp&gt;/api/pro/v2/futures/order/all</code></p>

<p><strong>Prehash String</strong></p>

<p><code>v2/futures/order/all</code></p>

<p><strong>Request Parameters</strong></p>

<table><thead>
<tr>
<th>PARAMETER</th>
<th>TYPE</th>
<th>REQUIRED</th>
<th>DESCRIPTION</th>
</tr>
</thead><tbody>
<tr>
<td>symbol</td>
<td>String</td>
<td>No</td>
<td>the optional symbol filter</td>
</tr>
</tbody></table>
<h3 id='list-open-orders'>List Open Orders</h3>
<blockquote>
<p>Response</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="nl">"code"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nl">"ac"</span><span class="w">          </span><span class="p">:</span><span class="w"> </span><span class="s2">"FUTURES"</span><span class="p">,</span><span class="w">                   </span><span class="err">//</span><span class="w"> </span><span class="err">account</span><span class="w"> </span><span class="err">category</span><span class="w">
            </span><span class="nl">"accountId"</span><span class="w">   </span><span class="p">:</span><span class="w"> </span><span class="s2">"sample-futures-account-id"</span><span class="p">,</span><span class="w"> </span><span class="err">//</span><span class="w"> </span><span class="err">account</span><span class="w"> </span><span class="err">ID</span><span class="w">
            </span><span class="nl">"seqNum"</span><span class="w">      </span><span class="p">:</span><span class="w"> </span><span class="mi">14</span><span class="p">,</span><span class="w">                          </span><span class="err">//</span><span class="w"> </span><span class="err">sequence</span><span class="w"> </span><span class="err">number</span><span class="w">
            </span><span class="nl">"time"</span><span class="w">        </span><span class="p">:</span><span class="w"> </span><span class="mi">1605677683714</span><span class="p">,</span><span class="w">               </span><span class="err">//</span><span class="w"> </span><span class="err">order</span><span class="w"> </span><span class="err">creation</span><span class="w"> </span><span class="err">time</span><span class="w">
            </span><span class="nl">"orderId"</span><span class="w">     </span><span class="p">:</span><span class="w"> </span><span class="s2">"sample-order-id"</span><span class="p">,</span><span class="w">           </span><span class="err">//</span><span class="w"> </span><span class="err">order</span><span class="w"> </span><span class="err">ID</span><span class="w">
            </span><span class="nl">"orderType"</span><span class="w">   </span><span class="p">:</span><span class="w"> </span><span class="s2">"Limit"</span><span class="p">,</span><span class="w">                     </span><span class="err">//</span><span class="w"> </span><span class="err">order</span><span class="w"> </span><span class="err">type</span><span class="w">
            </span><span class="nl">"side"</span><span class="w">        </span><span class="p">:</span><span class="w"> </span><span class="s2">"Buy"</span><span class="p">,</span><span class="w">                       </span><span class="err">//</span><span class="w"> </span><span class="err">order</span><span class="w"> </span><span class="err">side</span><span class="w">
            </span><span class="nl">"symbol"</span><span class="w">      </span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC-PERP"</span><span class="p">,</span><span class="w">                  </span><span class="err">//</span><span class="w"> </span><span class="err">contract</span><span class="w"> </span><span class="err">symbol</span><span class="w">
            </span><span class="nl">"price"</span><span class="w">       </span><span class="p">:</span><span class="w"> </span><span class="s2">"9500"</span><span class="p">,</span><span class="w">                      </span><span class="err">//</span><span class="w"> </span><span class="err">order</span><span class="w"> </span><span class="err">price</span><span class="w">
            </span><span class="nl">"orderQty"</span><span class="w">    </span><span class="p">:</span><span class="w"> </span><span class="s2">"0.1"</span><span class="p">,</span><span class="w">                       </span><span class="err">//</span><span class="w"> </span><span class="err">order</span><span class="w"> </span><span class="err">quantity</span><span class="w">
            </span><span class="nl">"stopPrice"</span><span class="w">   </span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">                         </span><span class="err">//</span><span class="w"> </span><span class="err">stop</span><span class="w"> </span><span class="err">price</span><span class="w">
            </span><span class="nl">"stopBy"</span><span class="w">      </span><span class="p">:</span><span class="w"> </span><span class="s2">"market"</span><span class="p">,</span><span class="w">                    </span><span class="err">//</span><span class="w"> </span><span class="err">stop</span><span class="w"> </span><span class="err">price</span><span class="w"> </span><span class="err">trigger</span><span class="w">         
            </span><span class="nl">"status"</span><span class="w">      </span><span class="p">:</span><span class="w"> </span><span class="s2">"New"</span><span class="p">,</span><span class="w">                       </span><span class="err">//</span><span class="w"> </span><span class="err">order</span><span class="w"> </span><span class="err">status</span><span class="w"> 
            </span><span class="nl">"lastExecTime"</span><span class="p">:</span><span class="w"> </span><span class="mi">1605677684479</span><span class="p">,</span><span class="w">               </span><span class="err">//</span><span class="w"> </span><span class="err">last</span><span class="w"> </span><span class="err">execution</span><span class="w"> </span><span class="err">time</span><span class="w">
            </span><span class="nl">"lastPx"</span><span class="w">      </span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">                         </span><span class="err">//</span><span class="w"> </span><span class="err">last</span><span class="w"> </span><span class="err">filled</span><span class="w"> </span><span class="err">price</span><span class="w"> 
            </span><span class="nl">"lastQty"</span><span class="w">     </span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">                         </span><span class="err">//</span><span class="w"> </span><span class="err">last</span><span class="w"> </span><span class="err">filled</span><span class="w"> </span><span class="err">quantity</span><span class="w">
            </span><span class="nl">"avgFilledPx"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">                         </span><span class="err">//</span><span class="w"> </span><span class="err">average</span><span class="w"> </span><span class="err">filled</span><span class="w"> </span><span class="err">price</span><span class="w"> </span><span class="err">of</span><span class="w"> </span><span class="err">all</span><span class="w"> </span><span class="err">fills</span><span class="w">
            </span><span class="nl">"cumFilledQty"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">                         </span><span class="err">//</span><span class="w"> </span><span class="err">cummulative</span><span class="w"> </span><span class="err">filled</span><span class="w"> </span><span class="err">quantity</span><span class="w">
            </span><span class="nl">"fee"</span><span class="w">         </span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">                         </span><span class="err">//</span><span class="w"> </span><span class="err">fee</span><span class="w"> </span><span class="err">of</span><span class="w"> </span><span class="err">the</span><span class="w"> </span><span class="err">last</span><span class="w"> </span><span class="err">fill</span><span class="w">
            </span><span class="nl">"cumFee"</span><span class="w">      </span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">                         </span><span class="err">//</span><span class="w"> </span><span class="err">cummulative</span><span class="w"> </span><span class="err">fee</span><span class="w"> 
            </span><span class="nl">"feeAsset"</span><span class="w">    </span><span class="p">:</span><span class="w"> </span><span class="s2">"USDT"</span><span class="p">,</span><span class="w">                      </span><span class="err">//</span><span class="w"> </span><span class="err">fee</span><span class="w"> </span><span class="err">asset</span><span class="w">
            </span><span class="nl">"errorCode"</span><span class="w">   </span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="w">                           </span><span class="err">//</span><span class="w"> </span><span class="err">error</span><span class="w"> </span><span class="err">code</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p><strong>HTTP Request</strong></p>

<p><code>POST /&lt;grp&gt;/api/pro/v2/futures/order/open</code></p>

<p><strong>Prehash String</strong></p>

<p><code>v2/futures/order/open</code></p>
<h1 id='websocket'>WebSocket</h1><h2 id='how-to-connect'>How to Connect</h2>
<p>Base endpoints:</p>

<ul>
<li>Testnet: 

<ul>
<li>Public endpoint: <code>wss://api-test.bitmax-sandbox.io:443/api/pro/v2/stream</code></li>
<li>Private endpoint: <code>wss://api-test.bitmax-sandbox.io:443/&lt;grp&gt;/api/pro/v2/stream</code></li>
</ul></li>
<li>Mainnet: not available yet</li>
</ul>

<p>You can only authenticate a WebSocket session via a private endpoint.</p>
<h2 id='public-stream-data'>Public Stream Data</h2><h3 id='channel-futures-pricing-data'>Channel: Futures Pricing Data</h3>
<blockquote>
<p>Sample Futures Pricing Data Message</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="nl">"m"</span><span class="p">:</span><span class="w"> </span><span class="s2">"futures-pricing-data"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"con"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">  </span><span class="err">//</span><span class="w"> </span><span class="err">all</span><span class="w"> </span><span class="err">contracts</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nl">"s"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC-PERP"</span><span class="p">,</span><span class="w">          </span><span class="err">//</span><span class="w"> </span><span class="err">symbol</span><span class="w">
            </span><span class="nl">"t"</span><span class="p">:</span><span class="w"> </span><span class="mi">1609371076960</span><span class="p">,</span><span class="w">       </span><span class="err">//</span><span class="w"> </span><span class="err">data</span><span class="w"> </span><span class="err">time</span><span class="w">
            </span><span class="nl">"mp"</span><span class="p">:</span><span class="w"> </span><span class="s2">"28142.586177036"</span><span class="p">,</span><span class="w">  </span><span class="err">//</span><span class="w"> </span><span class="err">mark</span><span class="w"> </span><span class="err">price</span><span class="w">
            </span><span class="nl">"ip"</span><span class="p">:</span><span class="w"> </span><span class="s2">"28838.695"</span><span class="p">,</span><span class="w">        </span><span class="err">//</span><span class="w"> </span><span class="err">index</span><span class="w"> </span><span class="err">price</span><span class="w">
            </span><span class="nl">"r"</span><span class="p">:</span><span class="w"> </span><span class="s2">"-0.005"</span><span class="p">,</span><span class="w">            </span><span class="err">//</span><span class="w"> </span><span class="err">funding</span><span class="w"> </span><span class="err">rate</span><span class="w"> 
            </span><span class="nl">"f"</span><span class="p">:</span><span class="w"> </span><span class="mi">1609329600000</span><span class="w">        </span><span class="err">//</span><span class="w"> </span><span class="err">next</span><span class="w"> </span><span class="err">funding</span><span class="w"> </span><span class="err">time</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="nl">"col"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">  </span><span class="err">//</span><span class="w"> </span><span class="err">all</span><span class="w"> </span><span class="err">collaterals</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nl">"a"</span><span class="p">:</span><span class="w"> </span><span class="s2">"USDTR"</span><span class="p">,</span><span class="w">   </span><span class="err">//</span><span class="w"> </span><span class="err">asset</span><span class="w">
            </span><span class="nl">"p"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1"</span><span class="w">        </span><span class="err">//</span><span class="w"> </span><span class="err">reference</span><span class="w"> </span><span class="err">price</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nl">"a"</span><span class="p">:</span><span class="w"> </span><span class="s2">"USDC"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"p"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.9996"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nl">"a"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ETH"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"p"</span><span class="p">:</span><span class="w"> </span><span class="s2">"749.82"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nl">"a"</span><span class="p">:</span><span class="w"> </span><span class="s2">"PAX"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"p"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1.0002"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nl">"a"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"p"</span><span class="p">:</span><span class="w"> </span><span class="s2">"28834.165"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nl">"a"</span><span class="p">:</span><span class="w"> </span><span class="s2">"USDT"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"p"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1"</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p><strong>Subscribe to the Channel</strong></p>

<p><code>{&quot;op&quot;:&quot;sub&quot;, &quot;id&quot;:&quot;sample-id&quot;, &quot;ch&quot;:&quot;futures-pricing-data&quot;}</code></p>
<h3 id='channel-level-1-order-book-data-bbo'>Channel: Level 1 Order Book Data (BBO)</h3>
<blockquote>
<p>Subscribe to <code>BTC-PERP</code> quote stream</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w"> </span><span class="nl">"op"</span><span class="p">:</span><span class="w"> </span><span class="s2">"sub"</span><span class="p">,</span><span class="w"> </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"abc123"</span><span class="p">,</span><span class="w"> </span><span class="nl">"ch"</span><span class="p">:</span><span class="s2">"bbo:BTC-PERP"</span><span class="w"> </span><span class="p">}</span><span class="w">
</span></code></pre></div>
<blockquote>
<p>Unsubscribe to <code>BTC-PERP</code> quote stream</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w"> </span><span class="nl">"op"</span><span class="p">:</span><span class="w"> </span><span class="s2">"unsub"</span><span class="p">,</span><span class="w"> </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"abc123"</span><span class="p">,</span><span class="w"> </span><span class="nl">"ch"</span><span class="p">:</span><span class="s2">"bbo:BTC-PERP"</span><span class="w"> </span><span class="p">}</span><span class="w">
</span></code></pre></div>
<blockquote>
<p>BBO Message </p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="nl">"m"</span><span class="p">:</span><span class="w"> </span><span class="s2">"bbo"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"symbol"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC-PERP"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"ts"</span><span class="p">:</span><span class="w"> </span><span class="mi">1573068442532</span><span class="p">,</span><span class="w">
        </span><span class="nl">"bid"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
            </span><span class="s2">"9309.11"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"0.0197172"</span><span class="w">
        </span><span class="p">],</span><span class="w">
        </span><span class="nl">"ask"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
            </span><span class="s2">"9309.12"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"0.8851266"</span><span class="w">
        </span><span class="p">]</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p>You can subscribe to updates of best bid/offer data stream only. Once subscribed, you will receive BBO message whenever 
the price and/or size changes at the top of the order book. </p>

<p>Each BBO message contains price and size data for exactly one bid level and one ask level. </p>
<h3 id='channel-level-2-order-book-updates'>Channel: Level 2 Order Book Updates</h3>
<blockquote>
<p>Subscribe to <code>BTC-PERP</code> depth updates stream</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w"> </span><span class="nl">"op"</span><span class="p">:</span><span class="w"> </span><span class="s2">"sub"</span><span class="p">,</span><span class="w"> </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"abc123"</span><span class="p">,</span><span class="w"> </span><span class="nl">"ch"</span><span class="p">:</span><span class="s2">"depth:BTC-PERP"</span><span class="w"> </span><span class="p">}</span><span class="w">
</span></code></pre></div>
<blockquote>
<p>Unsubscribe to <code>BTC-PERP</code> depth updates stream</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w"> </span><span class="nl">"op"</span><span class="p">:</span><span class="w"> </span><span class="s2">"unsub"</span><span class="p">,</span><span class="w"> </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"abc123"</span><span class="p">,</span><span class="w"> </span><span class="nl">"ch"</span><span class="p">:</span><span class="s2">"depth:BTC-PERP"</span><span class="w"> </span><span class="p">}</span><span class="w">
</span></code></pre></div>
<blockquote>
<p>The Depth Message </p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="nl">"m"</span><span class="p">:</span><span class="w"> </span><span class="s2">"depth"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"symbol"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC-PERP"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"ts"</span><span class="p">:</span><span class="w"> </span><span class="mi">1573069021376</span><span class="p">,</span><span class="w">
        </span><span class="nl">"seqnum"</span><span class="p">:</span><span class="w"> </span><span class="mi">2097965</span><span class="p">,</span><span class="w">
        </span><span class="nl">"asks"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
            </span><span class="p">[</span><span class="w">
                </span><span class="s2">"0.06844"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"10760"</span><span class="w">
            </span><span class="p">]</span><span class="w">
        </span><span class="p">],</span><span class="w">
        </span><span class="nl">"bids"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
            </span><span class="p">[</span><span class="w">
                </span><span class="s2">"0.06777"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"562.4"</span><span class="w">
            </span><span class="p">],</span><span class="w">
            </span><span class="p">[</span><span class="w">
                </span><span class="s2">"0.05"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"221760.6"</span><span class="w">
            </span><span class="p">]</span><span class="w">
        </span><span class="p">]</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p>If you want to keep track of the most recent order book snapshot in its entirety, the most efficient way is to subscribe to the <code>depth</code> channel. </p>

<p>Each <code>depth</code> message contains a <code>bids</code> list and an <code>asks</code> list in its <code>data</code> field. Each list contains a series of <code>[price, size]</code> pairs that 
you can use to update the order book snapshot. In the message, <code>price</code> is always positive and <code>size</code> is always non-negative. </p>

<ul>
<li>if <code>size</code> is positive and the <code>price</code> doesn&#39;t exist in the current order book, you should <strong>add</strong> a new level <code>[price, size]</code>. </li>
<li>if <code>size</code> is positive and the <code>price</code> exists in the current order book, you should <strong>update</strong> the existing level to <code>[price, size]</code>. </li>
<li>if <code>size</code> is zero, you should <strong>delete</strong> the level at <code>price</code>. </li>
</ul>

<p>See <a href="https://github.com/bitmax-exchange/bitmax-pro-api-demo/blob/master/python/websocket_orderbook_snapshot.py">Orderbook Snapshot</a> for code examples.</p>
<h3 id='channel-market-trades'>Channel: Market Trades</h3>
<blockquote>
<p>Subscribe to <code>BTC-PERP</code> market trades stream</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w"> </span><span class="nl">"op"</span><span class="p">:</span><span class="w"> </span><span class="s2">"sub"</span><span class="p">,</span><span class="w"> </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"abc123"</span><span class="p">,</span><span class="w"> </span><span class="nl">"ch"</span><span class="p">:</span><span class="s2">"trades:BTC-PERP"</span><span class="w"> </span><span class="p">}</span><span class="w">
</span></code></pre></div>
<blockquote>
<p>Unsubscribe to <code>BTC-PERP</code> market trades stream</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w"> </span><span class="nl">"op"</span><span class="p">:</span><span class="w"> </span><span class="s2">"unsub"</span><span class="p">,</span><span class="w"> </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"abc123"</span><span class="p">,</span><span class="w"> </span><span class="nl">"ch"</span><span class="p">:</span><span class="s2">"trades:BTC-PERP"</span><span class="w"> </span><span class="p">}</span><span class="w">
</span></code></pre></div>
<blockquote>
<p>Trade Message </p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="nl">"m"</span><span class="p">:</span><span class="w"> </span><span class="s2">"trades"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"symbol"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC-PERP"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nl">"p"</span><span class="p">:</span><span class="w">      </span><span class="s2">"0.068600"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"q"</span><span class="p">:</span><span class="w">      </span><span class="s2">"100.000"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"ts"</span><span class="p">:</span><span class="w">      </span><span class="mi">1573069903254</span><span class="p">,</span><span class="w">
            </span><span class="nl">"bm"</span><span class="p">:</span><span class="w">      </span><span class="kc">false</span><span class="p">,</span><span class="w">
            </span><span class="nl">"seqnum"</span><span class="p">:</span><span class="w">  </span><span class="mi">144115188077966308</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p>The <code>data</code> field is a list containing one or more trade objects. The server may combine consecutive trades with the same price and <code>bm</code> 
value into one aggregated item. Each trade object contains the following fields:</p>

<table><thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>seqnum</td>
<td>Long</td>
<td>the sequence number of the trade record. <code>seqnum</code> is always increasing for each symbol, but may not be consecutive</td>
</tr>
<tr>
<td>p</td>
<td>String</td>
<td>the executed price expressed as a string</td>
</tr>
<tr>
<td>q</td>
<td>String</td>
<td>the aggregated traded amount expressed as string</td>
</tr>
<tr>
<td>ts</td>
<td>Long</td>
<td>the UTC timestamp in milliseconds of the first trade</td>
</tr>
<tr>
<td>bm</td>
<td>Boolean</td>
<td>if true, the buyer of the trade is the maker.</td>
</tr>
</tbody></table>
<h3 id='channel-bar-data'>Channel: Bar Data</h3>
<blockquote>
<p>Subscribe to <code>BTC-PERP</code> 1 minute bar stream</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w"> </span><span class="nl">"op"</span><span class="p">:</span><span class="w"> </span><span class="s2">"sub"</span><span class="p">,</span><span class="w"> </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"abc123"</span><span class="p">,</span><span class="w"> </span><span class="nl">"ch"</span><span class="p">:</span><span class="s2">"bar:1:BTC-PERP"</span><span class="w"> </span><span class="p">}</span><span class="w">
</span></code></pre></div>
<blockquote>
<p>Unsubscribe to <code>BTC-PERP</code> 1 minute bar stream</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w"> </span><span class="nl">"op"</span><span class="p">:</span><span class="w"> </span><span class="s2">"unsub"</span><span class="p">,</span><span class="w"> </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"abc123"</span><span class="p">,</span><span class="w"> </span><span class="nl">"ch"</span><span class="p">:</span><span class="s2">"bar:1:BTC-PERP"</span><span class="w"> </span><span class="p">}</span><span class="w">

</span><span class="err">//</span><span class="w">  </span><span class="err">Alternatively,</span><span class="w"> </span><span class="err">you</span><span class="w"> </span><span class="err">can</span><span class="w"> </span><span class="err">unsubscribe</span><span class="w"> </span><span class="err">all</span><span class="w"> </span><span class="err">bar</span><span class="w"> </span><span class="err">streams</span><span class="w"> </span><span class="err">for</span><span class="w"> </span><span class="err">BTC-PERP</span><span class="w">
</span><span class="p">{</span><span class="w"> </span><span class="nl">"op"</span><span class="p">:</span><span class="w"> </span><span class="s2">"unsub"</span><span class="p">,</span><span class="w"> </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"abc123"</span><span class="p">,</span><span class="w"> </span><span class="nl">"ch"</span><span class="p">:</span><span class="s2">"bar:*:BTC-PERP"</span><span class="w"> </span><span class="p">}</span><span class="w">

</span><span class="err">//</span><span class="w"> </span><span class="err">Or</span><span class="w"> </span><span class="err">unsubscribe</span><span class="w"> </span><span class="err">all</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="err">minute</span><span class="w"> </span><span class="err">bar</span><span class="w"> </span><span class="err">stream</span><span class="w">
</span><span class="p">{</span><span class="w"> </span><span class="nl">"op"</span><span class="p">:</span><span class="w"> </span><span class="s2">"unsub"</span><span class="p">,</span><span class="w"> </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"abc123"</span><span class="p">,</span><span class="w"> </span><span class="nl">"ch"</span><span class="p">:</span><span class="s2">"bar:1"</span><span class="w"> </span><span class="p">}</span><span class="w">

</span><span class="err">//</span><span class="w"> </span><span class="err">Or</span><span class="w"> </span><span class="err">unsubscribe</span><span class="w"> </span><span class="err">all</span><span class="w"> </span><span class="err">bar</span><span class="w"> </span><span class="err">stream</span><span class="w">
</span><span class="p">{</span><span class="w"> </span><span class="nl">"op"</span><span class="p">:</span><span class="w"> </span><span class="s2">"unsub"</span><span class="p">,</span><span class="w"> </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"abc123"</span><span class="p">,</span><span class="w"> </span><span class="nl">"ch"</span><span class="p">:</span><span class="s2">"bar"</span><span class="w"> </span><span class="p">}</span><span class="w">
</span></code></pre></div>
<blockquote>
<p>Bar Data Message </p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="nl">"m"</span><span class="p">:</span><span class="w"> </span><span class="s2">"bar"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"s"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC-PERP"</span><span class="p">,</span><span class="w">    
    </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"i"</span><span class="p">:</span><span class="w">  </span><span class="s2">"1"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"ts"</span><span class="p">:</span><span class="w"> </span><span class="mi">1575398940000</span><span class="p">,</span><span class="w">
        </span><span class="nl">"o"</span><span class="p">:</span><span class="w">  </span><span class="s2">"0.04993"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"c"</span><span class="p">:</span><span class="w">  </span><span class="s2">"0.04970"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"h"</span><span class="p">:</span><span class="w">  </span><span class="s2">"0.04993"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"l"</span><span class="p">:</span><span class="w">  </span><span class="s2">"0.04970"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"v"</span><span class="p">:</span><span class="w">  </span><span class="s2">"8052"</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p>The <code>data</code> field is a list containing one or more trade objects. The server may combine consecutive trades with the same price and <code>bm</code> 
value into one aggregated item. Each trade object contains the following fields:</p>

<table><thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>seqnum</td>
<td>Long</td>
<td>the sequence number of the trade record. <code>seqnum</code> is always increasing for each symbol, but may not be consecutive</td>
</tr>
<tr>
<td>p</td>
<td>String</td>
<td>the executed price expressed as a string</td>
</tr>
<tr>
<td>q</td>
<td>String</td>
<td>the aggregated traded amount expressed as string</td>
</tr>
<tr>
<td>ts</td>
<td>Long</td>
<td>the UTC timestamp in milliseconds of the first trade</td>
</tr>
<tr>
<td>bm</td>
<td>Boolean</td>
<td>if true, the buyer of the trade is the maker.</td>
</tr>
</tbody></table>
<h2 id='private-stream-data'>Private Stream Data</h2><h3 id='authenticate-a-websocket-session'>Authenticate a WebSocket Session</h3>
<p>You must authenticate the websocket session in order to recieve private data and send account specific requests 
(e.g. placing new orders). </p>

<p>You have two options to authenticate a websocket session. </p>

<ul>
<li>by adding authentication data in the request header when connecting to websocket. </li>
<li>by sending an <code>op:auth</code> message to the server after you have connected to websocket. </li>
</ul>

<p>Once you successfully connect to the websocket, you will receive a <code>connected</code> message: </p>

<ul>
<li>for authenticated websocket session: <code>{&quot;op&quot;:&quot;connected&quot;,&quot;type&quot;:&quot;auth&quot;}</code></li>
<li>for unauthenticated websocket session: <code>{&quot;op&quot;:&quot;connected&quot;,&quot;type&quot;:&quot;unauth&quot;}</code></li>
</ul>

<p>If the session is disconnected for some reason, you will receive a <code>disconnected</code> message:</p>

<ul>
<li><code>{&quot;m&quot;:&quot;disconnected&quot;,&quot;code&quot;:100005,&quot;reason&quot;:&quot;INVALID_WS_REQUEST_DATA&quot;,&quot;info&quot;:&quot;Session is disconnected due to missing pong message from the client&quot;}</code></li>
</ul>
<h3 id='prehash-string'>Prehash String</h3>
<p><code>&lt;timestamp&gt;+v2/stream</code></p>
<h3 id='method-1-websocket-authentication-with-request-headers'>Method 1 - WebSocket Authentication with Request Headers</h3>
<blockquote>
<p>Authenticate with Headers</p>
</blockquote>
<div class="highlight"><pre class="highlight shell tab-shell"><code><span class="c"># # Install wscat from Node.js if you haven't</span>
<span class="c"># npm install -g wscat  </span>

<span class="nv">APIPATH</span><span class="o">=</span>v2/stream
<span class="nv">APIKEY</span><span class="o">=</span>BclE7dBGbS1AP3VnOuq6s8fJH0fWbH7r
<span class="nv">SECRET</span><span class="o">=</span>fAZcQRUMxj3eX3DreIjFcPiJ9UR3ZTdgIw8mxddvtcDxLoXvdbXJuFQYadUUsF7q
<span class="nv">TIMESTAMP</span><span class="o">=</span><span class="sb">`</span><span class="nb">date</span> +%s%N | <span class="nb">cut</span> <span class="nt">-c</span> <span class="nt">-13</span><span class="sb">`</span>
<span class="nv">MESSAGE</span><span class="o">=</span><span class="nv">$TIMESTAMP</span>+<span class="nv">$APIPATH</span>
<span class="nv">SIGNATURE</span><span class="o">=</span><span class="sb">`</span><span class="nb">echo</span> <span class="nt">-n</span> <span class="nv">$MESSAGE</span> | openssl dgst <span class="nt">-sha256</span> <span class="nt">-hmac</span> <span class="nv">$SECRET</span> <span class="nt">-binary</span> | <span class="nb">base64</span><span class="sb">`</span>

wscat <span class="nt">-H</span> <span class="s2">"x-auth-key: </span><span class="nv">$APIKEY</span><span class="s2">"</span> <span class="se">\</span>
  <span class="nt">-H</span> <span class="s2">"x-auth-signature: </span><span class="nv">$SIGNATURE</span><span class="s2">"</span> <span class="se">\</span>
  <span class="nt">-H</span> <span class="s2">"x-auth-timestamp: </span><span class="nv">$TIMESTAMP</span><span class="s2">"</span> <span class="se">\</span>
  <span class="nt">-c</span> wss://bitmax.io/1/api/pro/v2/stream <span class="nt">-w</span> 1 <span class="nt">-x</span> <span class="s1">'{"op":"sub", "id": "abc123", "ch": "futures-order"}'</span>
</code></pre></div><div class="highlight"><pre class="highlight python tab-python"><code><span class="c1"># python 3.6+
</span><span class="kn">import</span> <span class="nn">time</span><span class="p">,</span> <span class="n">hashlib</span><span class="p">,</span> <span class="n">hmac</span><span class="p">,</span> <span class="n">base64</span>
<span class="kn">import</span> <span class="nn">asyncio</span>    <span class="c1"># pip3 install asyncio
</span><span class="kn">import</span> <span class="nn">websockets</span> <span class="c1"># pip3 install websockets
</span>
<span class="k">def</span> <span class="nf">hashing</span><span class="p">(</span><span class="n">message</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">secret</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
    <span class="n">msg</span> <span class="o">=</span> <span class="nb">bytearray</span><span class="p">(</span><span class="n">message</span><span class="p">.</span><span class="n">encode</span><span class="p">(</span><span class="s">"utf-8"</span><span class="p">))</span>
    <span class="n">hmac_key</span> <span class="o">=</span> <span class="n">base64</span><span class="p">.</span><span class="n">b64decode</span><span class="p">(</span><span class="n">secret</span><span class="p">)</span>
    <span class="n">signature</span> <span class="o">=</span> <span class="n">hmac</span><span class="p">.</span><span class="n">new</span><span class="p">(</span><span class="n">hmac_key</span><span class="p">,</span> <span class="n">msg</span><span class="p">,</span> <span class="n">hashlib</span><span class="p">.</span><span class="n">sha256</span><span class="p">)</span>
    <span class="n">signature_b64</span> <span class="o">=</span> <span class="n">base64</span><span class="p">.</span><span class="n">b64encode</span><span class="p">(</span><span class="n">signature</span><span class="p">.</span><span class="n">digest</span><span class="p">()).</span><span class="n">decode</span><span class="p">(</span><span class="s">"utf-8"</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">signature_b64</span>

<span class="k">def</span> <span class="nf">get_timestamp</span><span class="p">()</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>
    <span class="k">return</span> <span class="nb">int</span><span class="p">(</span><span class="n">time</span><span class="p">.</span><span class="n">time</span><span class="p">()</span> <span class="o">*</span> <span class="mi">1000</span><span class="p">)</span>


<span class="k">async</span> <span class="k">def</span> <span class="nf">websocket_auth_demo</span><span class="p">(</span><span class="n">uri</span><span class="p">):</span>
    <span class="n">apikey</span> <span class="o">=</span> <span class="s">"2pJkaH37i4wrVAMmFNoASVNCu4INP5F9"</span>
    <span class="n">secret</span> <span class="o">=</span> <span class="s">"etvbsuZQafiECVdDb29PpwhzhWSf47kDpGxT8Fa7eZMjdGsUAQGHVudpt7S3ZY5w"</span>
    <span class="n">ts</span> <span class="o">=</span> <span class="n">get_timestamp</span><span class="p">()</span>
    <span class="n">message</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="n">ts</span><span class="p">)</span> <span class="o">+</span> <span class="s">"+v2/stream"</span>
    <span class="n">sig</span> <span class="o">=</span> <span class="n">hashing</span><span class="p">(</span><span class="n">message</span><span class="p">,</span> <span class="n">secret</span><span class="p">)</span>
    <span class="n">auth_headers</span> <span class="o">=</span> <span class="p">[</span>
        <span class="p">(</span><span class="s">"x-auth-key"</span><span class="p">,</span> <span class="n">apikey</span><span class="p">),</span>
        <span class="p">(</span><span class="s">"x-auth-signature"</span><span class="p">,</span> <span class="n">sig</span><span class="p">),</span>
        <span class="p">(</span><span class="s">"x-auth-timestamp"</span><span class="p">,</span> <span class="nb">str</span><span class="p">(</span><span class="n">ts</span><span class="p">))]</span>
    <span class="k">async</span> <span class="k">with</span> <span class="n">websockets</span><span class="p">.</span><span class="n">client</span><span class="p">.</span><span class="n">connect</span><span class="p">(</span><span class="n">uri</span><span class="p">,</span> <span class="n">extra_headers</span><span class="o">=</span><span class="n">auth_headers</span><span class="p">)</span> <span class="k">as</span> <span class="n">websocket</span><span class="p">:</span>
        <span class="k">while</span> <span class="bp">True</span><span class="p">:</span>
            <span class="n">msg</span> <span class="o">=</span> <span class="k">await</span> <span class="n">websocket</span><span class="p">.</span><span class="n">recv</span><span class="p">()</span>
            <span class="k">print</span><span class="p">(</span><span class="n">msg</span><span class="p">)</span>

<span class="n">asyncio</span><span class="p">.</span><span class="n">get_event_loop</span><span class="p">().</span><span class="n">run_until_complete</span><span class="p">(</span>
    <span class="n">websocket_auth_demo</span><span class="p">(</span><span class="s">'wss://bitmax.io:443/0/api/pro/v2/stream'</span><span class="p">))</span>
</code></pre></div><div class="highlight"><pre class="highlight java tab-java"><code><span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="o">(</span><span class="nc">String</span><span class="o">[]</span> <span class="n">args</span><span class="o">)</span> <span class="o">{</span>
    <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"Hello world"</span><span class="o">);</span>
<span class="o">}</span>
</code></pre></div>
<p>This is similar to the way you authenticate any RESTful request. You need to add the following header fields to the 
connection request:</p>

<ul>
<li><code>x-auth-key</code></li>
<li><code>x-auth-timestamp</code></li>
<li><code>x-auth-signature</code></li>
</ul>

<p>The server will then check if the data is correctly signed before upgrading the connection protocol to WebSocket. </p>

<p>Note that if you specify these header fields, the server will reject the websocket connection request if authentication fails. </p>
<h3 id='method-2-websocket-authentication-by-sending-the-auth-message'>Method 2 - WebSocket Authentication by Sending the Auth Message</h3>
<blockquote>
<p>Authenticate by Sending the <code>auth</code> Message</p>
</blockquote>
<div class="highlight"><pre class="highlight shell tab-shell"><code><span class="c"># # Install wscat from Node.js if you haven't</span>
<span class="c"># npm install -g wscat  </span>

<span class="nv">APIPATH</span><span class="o">=</span>v2/stream
<span class="nv">APIKEY</span><span class="o">=</span>BclE7dBGbS1AP3VnOuq6s8fJH0fWbH7r
<span class="nv">SECRET</span><span class="o">=</span>fAZcQRUMxj3eX3DreIjFcPiJ9UR3ZTdgIw8mxddvtcDxLoXvdbXJuFQYadUUsF7q
<span class="nv">TIMESTAMP</span><span class="o">=</span><span class="sb">`</span><span class="nb">date</span> +%s%N | <span class="nb">cut</span> <span class="nt">-c</span> <span class="nt">-13</span><span class="sb">`</span>
<span class="nv">MESSAGE</span><span class="o">=</span><span class="nv">$TIMESTAMP</span>+<span class="nv">$APIPATH</span>
<span class="nv">SIGNATURE</span><span class="o">=</span><span class="sb">`</span><span class="nb">echo</span> <span class="nt">-n</span> <span class="nv">$MESSAGE</span> | openssl dgst <span class="nt">-sha256</span> <span class="nt">-hmac</span> <span class="nv">$SECRET</span> <span class="nt">-binary</span> | <span class="nb">base64</span><span class="sb">`</span>

wscat <span class="nt">-c</span> wss://bitmax.io/1/api/pro/v2/stream <span class="nt">-w</span> 1 <span class="nt">-x</span> <span class="s2">"{</span><span class="se">\"</span><span class="s2">op</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">auth</span><span class="se">\"</span><span class="s2">, </span><span class="se">\"</span><span class="s2">id</span><span class="se">\"</span><span class="s2">: </span><span class="se">\"</span><span class="s2">abc123</span><span class="se">\"</span><span class="s2">, </span><span class="se">\"</span><span class="s2">t</span><span class="se">\"</span><span class="s2">: </span><span class="nv">$TIMESTAMP</span><span class="s2">, "</span>key<span class="s2">": </span><span class="se">\"</span><span class="nv">$APIKEY</span><span class="se">\"</span><span class="s2">, </span><span class="se">\"</span><span class="s2">sig</span><span class="se">\"</span><span class="s2">: </span><span class="se">\"</span><span class="nv">$SIGNATURE</span><span class="se">\"</span><span class="s2">}"</span>
</code></pre></div><div class="highlight"><pre class="highlight python tab-python"><code><span class="c1"># python 3.6+
</span><span class="kn">import</span> <span class="nn">json</span><span class="p">,</span> <span class="n">time</span><span class="p">,</span> <span class="n">hashlib</span><span class="p">,</span> <span class="n">hmac</span><span class="p">,</span> <span class="n">base64</span>
<span class="kn">import</span> <span class="nn">asyncio</span>    <span class="c1"># pip3 install asyncio
</span><span class="kn">import</span> <span class="nn">websockets</span> <span class="c1"># pip3 install websockets
</span>
<span class="k">def</span> <span class="nf">hashing</span><span class="p">(</span><span class="n">message</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">secret</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
    <span class="n">msg</span> <span class="o">=</span> <span class="nb">bytearray</span><span class="p">(</span><span class="n">message</span><span class="p">.</span><span class="n">encode</span><span class="p">(</span><span class="s">"utf-8"</span><span class="p">))</span>
    <span class="n">hmac_key</span> <span class="o">=</span> <span class="n">base64</span><span class="p">.</span><span class="n">b64decode</span><span class="p">(</span><span class="n">secret</span><span class="p">)</span>
    <span class="n">signature</span> <span class="o">=</span> <span class="n">hmac</span><span class="p">.</span><span class="n">new</span><span class="p">(</span><span class="n">hmac_key</span><span class="p">,</span> <span class="n">msg</span><span class="p">,</span> <span class="n">hashlib</span><span class="p">.</span><span class="n">sha256</span><span class="p">)</span>
    <span class="n">signature_b64</span> <span class="o">=</span> <span class="n">base64</span><span class="p">.</span><span class="n">b64encode</span><span class="p">(</span><span class="n">signature</span><span class="p">.</span><span class="n">digest</span><span class="p">()).</span><span class="n">decode</span><span class="p">(</span><span class="s">"utf-8"</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">signature_b64</span>

<span class="k">def</span> <span class="nf">get_timestamp</span><span class="p">()</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>
    <span class="k">return</span> <span class="nb">int</span><span class="p">(</span><span class="n">time</span><span class="p">.</span><span class="n">time</span><span class="p">()</span> <span class="o">*</span> <span class="mi">1000</span><span class="p">)</span>


<span class="k">async</span> <span class="k">def</span> <span class="nf">websocket_auth_demo</span><span class="p">(</span><span class="n">uri</span><span class="p">):</span>
    <span class="n">apikey</span> <span class="o">=</span> <span class="s">"2pJkaH37i4wrVAMmFNoASVNCu4INP5F9"</span>
    <span class="n">secret</span> <span class="o">=</span> <span class="s">"etvbsuZQafiECVdDb29PpwhzhWSf47kDpGxT8Fa7eZMjdGsUAQGHVudpt7S3ZY5w"</span>
    <span class="n">ts</span> <span class="o">=</span> <span class="n">get_timestamp</span><span class="p">()</span>
    <span class="n">message</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="n">ts</span><span class="p">)</span> <span class="o">+</span> <span class="s">"+stream"</span>
    <span class="n">sig</span> <span class="o">=</span> <span class="n">hashing</span><span class="p">(</span><span class="n">message</span><span class="p">,</span> <span class="n">secret</span><span class="p">)</span>
    <span class="n">auth</span> <span class="o">=</span> <span class="nb">dict</span><span class="p">(</span><span class="n">op</span><span class="o">=</span><span class="s">"auth"</span><span class="p">,</span> <span class="nb">id</span><span class="o">=</span><span class="s">"RandomID123"</span><span class="p">,</span> <span class="n">t</span><span class="o">=</span><span class="n">ts</span><span class="p">,</span> <span class="n">key</span><span class="o">=</span><span class="n">apikey</span><span class="p">,</span> <span class="n">sig</span><span class="o">=</span><span class="n">sig</span><span class="p">)</span>
    <span class="k">async</span> <span class="k">with</span> <span class="n">websockets</span><span class="p">.</span><span class="n">connect</span><span class="p">(</span><span class="n">uri</span><span class="p">)</span> <span class="k">as</span> <span class="n">websocket</span><span class="p">:</span>
        <span class="k">await</span> <span class="n">websocket</span><span class="p">.</span><span class="n">send</span><span class="p">(</span><span class="n">json</span><span class="p">.</span><span class="n">dumps</span><span class="p">(</span><span class="n">auth</span><span class="p">))</span>
        <span class="k">while</span> <span class="bp">True</span><span class="p">:</span>
            <span class="n">msg</span> <span class="o">=</span> <span class="k">await</span> <span class="n">websocket</span><span class="p">.</span><span class="n">recv</span><span class="p">()</span>
            <span class="k">print</span><span class="p">(</span><span class="n">msg</span><span class="p">)</span>

<span class="n">asyncio</span><span class="p">.</span><span class="n">get_event_loop</span><span class="p">().</span><span class="n">run_until_complete</span><span class="p">(</span>
    <span class="n">websocket_auth_demo</span><span class="p">(</span><span class="s">'wss://bitmax.io:443/0/api/pro/v2/stream'</span><span class="p">))</span>
</code></pre></div><div class="highlight"><pre class="highlight java tab-java"><code><span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="o">(</span><span class="nc">String</span><span class="o">[]</span> <span class="n">args</span><span class="o">)</span> <span class="o">{</span>
    <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"Hello world"</span><span class="o">);</span>
<span class="o">}</span>
</code></pre></div>
<p>You can also authenticate a live websocket session by sending an <code>op:auth</code> message to the server. </p>

<table><thead>
<tr>
<th>PARAMETER</th>
<th>TYPE</th>
<th>REQUIRED</th>
<th>DESCRIPTION</th>
</tr>
</thead><tbody>
<tr>
<td><a href="#websocket-operations-op">op</a></td>
<td>ENUM</td>
<td>Yes</td>
<td><code>&quot;auth&quot;</code></td>
</tr>
<tr>
<td>id</td>
<td>String</td>
<td>No</td>
<td>optional id field, you may safely skip it</td>
</tr>
<tr>
<td>t</td>
<td>Long</td>
<td>Yes</td>
<td>UTC timestamp in milliseconds, use this timestamp to generate signature</td>
</tr>
<tr>
<td>key</td>
<td>String</td>
<td>Yes</td>
<td>your api key</td>
</tr>
<tr>
<td>sig</td>
<td>String</td>
<td>Yes</td>
<td>the signature is generated by signing <code>&quot;&lt;timestamp&gt;+stream&quot;</code></td>
</tr>
</tbody></table>
<h3 id='authentication-response'>Authentication Response</h3>
<blockquote>
<p>Auth success message</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">  
  </span><span class="nl">"m"</span><span class="p">:</span><span class="w"> </span><span class="s2">"auth"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"abc123"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"code"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<blockquote>
<p>Auth error message</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"m"</span><span class="p">:</span><span class="s2">"auth"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"abc123"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"code"</span><span class="p">:</span><span class="w"> </span><span class="mi">200006</span><span class="p">,</span><span class="w">
  </span><span class="nl">"err"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Unable to find User Account Data"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p>You will receive a message for authentication result after you send authentication request.</p>

<table><thead>
<tr>
<th>PARAMETER</th>
<th>TYPE</th>
<th>DESCRIPTION</th>
</tr>
</thead><tbody>
<tr>
<td>m</td>
<td>ENUM</td>
<td><code>&quot;auth&quot;</code></td>
</tr>
<tr>
<td>id</td>
<td>String</td>
<td>echo back the id if you provide one in the request</td>
</tr>
<tr>
<td>code</td>
<td>Long</td>
<td>Any code other than 0 indicate an error in authentication</td>
</tr>
<tr>
<td>err</td>
<td>Optional[String]</td>
<td>Provide detailed error message if code is not 0</td>
</tr>
</tbody></table>
<h3 id='channel-order'>Channel: Order</h3><div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"m"</span><span class="w">      </span><span class="p">:</span><span class="w"> </span><span class="s2">"futures-order"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"sn"</span><span class="w">     </span><span class="p">:</span><span class="w"> </span><span class="mi">127</span><span class="p">,</span><span class="w">                   </span><span class="err">//</span><span class="w"> </span><span class="err">sequence</span><span class="w"> </span><span class="err">number</span><span class="w">
  </span><span class="nl">"e"</span><span class="w">      </span><span class="p">:</span><span class="w"> </span><span class="s2">"ExecutionReport"</span><span class="p">,</span><span class="w">     </span><span class="err">//</span><span class="w"> </span><span class="err">event</span><span class="w">
  </span><span class="nl">"a"</span><span class="w">      </span><span class="p">:</span><span class="w"> </span><span class="s2">"sample-futures-account-id"</span><span class="p">,</span><span class="w">  </span><span class="err">//</span><span class="w"> </span><span class="err">account</span><span class="w"> </span><span class="err">Id</span><span class="w">
  </span><span class="nl">"ac"</span><span class="w">     </span><span class="p">:</span><span class="w"> </span><span class="s2">"FUTURES"</span><span class="p">,</span><span class="w">             </span><span class="err">//</span><span class="w"> </span><span class="err">account</span><span class="w"> </span><span class="err">category</span><span class="w"> 
  </span><span class="nl">"t"</span><span class="w">      </span><span class="p">:</span><span class="w"> </span><span class="mi">1606335352348</span><span class="p">,</span><span class="w">         </span><span class="err">//</span><span class="w"> </span><span class="err">last</span><span class="w"> </span><span class="err">execution</span><span class="w"> </span><span class="err">time</span><span class="w">
  </span><span class="nl">"ct"</span><span class="w">     </span><span class="p">:</span><span class="w"> </span><span class="mi">1606335351541</span><span class="p">,</span><span class="w">         </span><span class="err">//</span><span class="w"> </span><span class="err">order</span><span class="w"> </span><span class="err">creation</span><span class="w"> </span><span class="err">time</span><span class="w">
  </span><span class="nl">"orderId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"a176010c4957U68469127074abcd1234"</span><span class="p">,</span><span class="w">  </span><span class="err">//</span><span class="w"> </span><span class="err">order</span><span class="w"> </span><span class="err">Id</span><span class="w">
  </span><span class="nl">"sd"</span><span class="w">     </span><span class="p">:</span><span class="w"> </span><span class="s2">"Buy"</span><span class="p">,</span><span class="w">                 </span><span class="err">//</span><span class="w"> </span><span class="err">side</span><span class="w"> 
  </span><span class="nl">"ot"</span><span class="w">     </span><span class="p">:</span><span class="w"> </span><span class="s2">"Limit"</span><span class="p">,</span><span class="w">               </span><span class="err">//</span><span class="w"> </span><span class="err">order</span><span class="w"> </span><span class="err">type</span><span class="w"> 
  </span><span class="nl">"q"</span><span class="w">      </span><span class="p">:</span><span class="w"> </span><span class="s2">"0.1"</span><span class="p">,</span><span class="w">                 </span><span class="err">//</span><span class="w"> </span><span class="err">order</span><span class="w"> </span><span class="err">quantity</span><span class="w"> </span><span class="err">(base</span><span class="w"> </span><span class="err">asset)</span><span class="w">
  </span><span class="nl">"p"</span><span class="w">      </span><span class="p">:</span><span class="w"> </span><span class="s2">"18000"</span><span class="p">,</span><span class="w">               </span><span class="err">//</span><span class="w"> </span><span class="err">order</span><span class="w"> </span><span class="err">price</span><span class="w">
  </span><span class="nl">"sp"</span><span class="w">     </span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">                   </span><span class="err">//</span><span class="w"> </span><span class="err">stop</span><span class="w"> </span><span class="err">price</span><span class="w">
  </span><span class="nl">"spb"</span><span class="w">    </span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">                    </span><span class="err">//</span><span class="w"> </span><span class="err">stop</span><span class="w"> </span><span class="err">trigger</span><span class="w">
  </span><span class="nl">"s"</span><span class="w">      </span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC-PERP"</span><span class="p">,</span><span class="w">            </span><span class="err">//</span><span class="w"> </span><span class="err">symbol</span><span class="w"> 
  </span><span class="nl">"st"</span><span class="w">     </span><span class="p">:</span><span class="w"> </span><span class="s2">"New"</span><span class="p">,</span><span class="w">                 </span><span class="err">//</span><span class="w"> </span><span class="err">order</span><span class="w"> </span><span class="err">status</span><span class="w">
  </span><span class="nl">"lp"</span><span class="w">     </span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">                   </span><span class="err">//</span><span class="w"> </span><span class="err">last</span><span class="w"> </span><span class="err">filled</span><span class="w"> </span><span class="err">price</span><span class="w">
  </span><span class="nl">"lq"</span><span class="w">     </span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">                   </span><span class="err">//</span><span class="w"> </span><span class="err">last</span><span class="w"> </span><span class="err">filled</span><span class="w"> </span><span class="err">quantity</span><span class="w"> </span><span class="err">(base</span><span class="w"> </span><span class="err">asset)</span><span class="w">
  </span><span class="nl">"ap"</span><span class="w">     </span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">                   </span><span class="err">//</span><span class="w"> </span><span class="err">average</span><span class="w"> </span><span class="err">filled</span><span class="w"> </span><span class="err">price</span><span class="w">
  </span><span class="nl">"cfq"</span><span class="w">    </span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">                   </span><span class="err">//</span><span class="w"> </span><span class="err">cummulative</span><span class="w"> </span><span class="err">filled</span><span class="w"> </span><span class="err">quantity</span><span class="w"> </span><span class="err">(base</span><span class="w"> </span><span class="err">asset)</span><span class="w">
  </span><span class="nl">"f"</span><span class="w">      </span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">                   </span><span class="err">//</span><span class="w"> </span><span class="err">commission</span><span class="w"> </span><span class="err">fee</span><span class="w"> </span><span class="err">of</span><span class="w"> </span><span class="err">the</span><span class="w"> </span><span class="err">current</span><span class="w"> </span><span class="err">execution</span><span class="w">
  </span><span class="nl">"cf"</span><span class="w">     </span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">                   </span><span class="err">//</span><span class="w"> </span><span class="err">cumulative</span><span class="w"> </span><span class="err">commission</span><span class="w"> </span><span class="err">fee</span><span class="w">
  </span><span class="nl">"fa"</span><span class="w">     </span><span class="p">:</span><span class="w"> </span><span class="s2">"USDT"</span><span class="p">,</span><span class="w">                </span><span class="err">//</span><span class="w"> </span><span class="err">fee</span><span class="w"> </span><span class="err">asset</span><span class="w">
  </span><span class="nl">"ei"</span><span class="w">     </span><span class="p">:</span><span class="w"> </span><span class="s2">"NULL_VAL"</span><span class="p">,</span><span class="w">            </span><span class="err">//</span><span class="w"> </span><span class="err">execution</span><span class="w"> </span><span class="err">instruction</span><span class="w">
  </span><span class="nl">"err"</span><span class="w">    </span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="w">                     </span><span class="err">//</span><span class="w"> </span><span class="err">error</span><span class="w"> </span><span class="err">message</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p><strong>Subscribe to the Channel</strong></p>

<p><code>{&quot;op&quot;:&quot;sub&quot;, &quot;id&quot;:&quot;sample-id&quot;, &quot;ch&quot;:&quot;futures-order&quot;}</code></p>
<h3 id='channel-account-update'>Channel: Account Update</h3><div class="highlight"><pre class="highlight json tab-json"><code><span class="w">

</span><span class="p">{</span><span class="w">
  </span><span class="nl">"m"</span><span class="w">     </span><span class="p">:</span><span class="w"> </span><span class="s2">"futures-account-update"</span><span class="p">,</span><span class="w">            </span><span class="err">//</span><span class="w"> </span><span class="err">message</span><span class="w">
  </span><span class="nl">"e"</span><span class="w">     </span><span class="p">:</span><span class="w"> </span><span class="s2">"ExecutionReport"</span><span class="p">,</span><span class="w">                   </span><span class="err">//</span><span class="w"> </span><span class="err">event</span><span class="w"> </span><span class="err">type</span><span class="w">
  </span><span class="nl">"t"</span><span class="w">     </span><span class="p">:</span><span class="w"> </span><span class="mi">1612508562129</span><span class="p">,</span><span class="w">                       </span><span class="err">//</span><span class="w"> </span><span class="err">server</span><span class="w"> </span><span class="err">time</span><span class="w"> </span><span class="err">(UTC</span><span class="w"> </span><span class="err">time</span><span class="w"> </span><span class="err">in</span><span class="w"> </span><span class="err">milliseconds)</span><span class="w">
  </span><span class="nl">"acc"</span><span class="w">   </span><span class="p">:</span><span class="w"> </span><span class="s2">"sample-futures-account-id"</span><span class="p">,</span><span class="w">         </span><span class="err">//</span><span class="w"> </span><span class="err">account</span><span class="w"> </span><span class="err">ID</span><span class="w">
  </span><span class="nl">"at"</span><span class="w">    </span><span class="p">:</span><span class="w"> </span><span class="s2">"FUTURES"</span><span class="p">,</span><span class="w">                           </span><span class="err">//</span><span class="w"> </span><span class="err">account</span><span class="w"> </span><span class="err">type</span><span class="w">
  </span><span class="nl">"sn"</span><span class="w">    </span><span class="p">:</span><span class="w"> </span><span class="mi">23128</span><span class="p">,</span><span class="w">                               </span><span class="err">//</span><span class="w"> </span><span class="err">sequence</span><span class="w"> </span><span class="err">number</span><span class="p">,</span><span class="w"> </span><span class="err">strictly</span><span class="w"> </span><span class="err">increasing</span><span class="w"> </span><span class="err">for</span><span class="w"> </span><span class="err">each</span><span class="w"> </span><span class="err">account</span><span class="w">
  </span><span class="nl">"id"</span><span class="w">    </span><span class="p">:</span><span class="w"> </span><span class="s2">"r177710001cbU3813942147C5kbFGOan"</span><span class="p">,</span><span class="w">  </span><span class="err">//</span><span class="w"> </span><span class="err">request</span><span class="w"> </span><span class="err">ID</span><span class="w"> </span><span class="err">for</span><span class="w"> </span><span class="err">this</span><span class="w"> </span><span class="err">account</span><span class="w"> </span><span class="err">update</span><span class="w">
  </span><span class="nl">"col"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nl">"a"</span><span class="p">:</span><span class="w"> </span><span class="s2">"USDT"</span><span class="p">,</span><span class="w">               </span><span class="err">//</span><span class="w"> </span><span class="err">asset</span><span class="w"> </span><span class="err">code</span><span class="w">
      </span><span class="nl">"b"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1000000"</span><span class="p">,</span><span class="w">            </span><span class="err">//</span><span class="w"> </span><span class="err">balance</span><span class="w"> 
      </span><span class="nl">"f"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1"</span><span class="w">                   </span><span class="err">//</span><span class="w"> </span><span class="err">discount</span><span class="w"> </span><span class="err">factor</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">],</span><span class="w">
  </span><span class="nl">"pos"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nl">"s"</span><span class="w">   </span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC-PERP"</span><span class="p">,</span><span class="w">        </span><span class="err">//</span><span class="w"> </span><span class="err">symbol</span><span class="w">
      </span><span class="nl">"sd"</span><span class="w">  </span><span class="p">:</span><span class="w"> </span><span class="s2">"LONG"</span><span class="p">,</span><span class="w">            </span><span class="err">//</span><span class="w"> </span><span class="err">side</span><span class="w">
      </span><span class="nl">"pos"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"0.011"</span><span class="p">,</span><span class="w">           </span><span class="err">//</span><span class="w"> </span><span class="err">position</span><span class="w">
      </span><span class="nl">"rc"</span><span class="w">  </span><span class="p">:</span><span class="w"> </span><span class="s2">"-385.840455"</span><span class="p">,</span><span class="w">     </span><span class="err">//</span><span class="w"> </span><span class="err">reference</span><span class="w"> </span><span class="err">cost</span><span class="w">
      </span><span class="nl">"up"</span><span class="w">  </span><span class="p">:</span><span class="w"> </span><span class="s2">"18.436008668"</span><span class="p">,</span><span class="w">    </span><span class="err">//</span><span class="w"> </span><span class="err">unrealized</span><span class="w"> </span><span class="err">pnl</span><span class="w">
      </span><span class="nl">"rp"</span><span class="w">  </span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">               </span><span class="err">//</span><span class="w"> </span><span class="err">realized</span><span class="w"> </span><span class="err">pnl</span><span class="w">
      </span><span class="nl">"aop"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"35041.363636363"</span><span class="p">,</span><span class="w"> </span><span class="err">//</span><span class="w"> </span><span class="err">Average</span><span class="w"> </span><span class="err">Opening</span><span class="w"> </span><span class="err">Price</span><span class="w">
      </span><span class="nl">"boon"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">               </span><span class="err">//</span><span class="w"> </span><span class="err">Buy</span><span class="w"> </span><span class="err">Open</span><span class="w"> </span><span class="err">Order</span><span class="w"> </span><span class="err">Notional</span><span class="w">
      </span><span class="nl">"soon"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">               </span><span class="err">//</span><span class="w"> </span><span class="err">Sell</span><span class="w"> </span><span class="err">Open</span><span class="w"> </span><span class="err">Order</span><span class="w"> </span><span class="err">Notional</span><span class="w">
      </span><span class="nl">"mt"</span><span class="w">  </span><span class="p">:</span><span class="w"> </span><span class="s2">"crossed"</span><span class="p">,</span><span class="w">         </span><span class="err">//</span><span class="w"> </span><span class="err">margin</span><span class="w"> </span><span class="err">type:</span><span class="w"> </span><span class="err">isolated</span><span class="w"> </span><span class="err">/</span><span class="w"> </span><span class="err">cross</span><span class="w">
      </span><span class="nl">"iw"</span><span class="w">  </span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">               </span><span class="err">//</span><span class="w"> </span><span class="err">isolated</span><span class="w"> </span><span class="err">margin</span><span class="w">
      </span><span class="nl">"lev"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"10"</span><span class="p">,</span><span class="w">              </span><span class="err">//</span><span class="w"> </span><span class="err">leverage</span><span class="w">
      </span><span class="nl">"tp"</span><span class="w">  </span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">               </span><span class="err">//</span><span class="w"> </span><span class="err">take</span><span class="w"> </span><span class="err">profit</span><span class="w"> </span><span class="err">price</span><span class="w"> </span><span class="err">(by</span><span class="w"> </span><span class="err">position</span><span class="w"> </span><span class="err">exit</span><span class="w"> </span><span class="err">order)</span><span class="w">
      </span><span class="nl">"tpt"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"market"</span><span class="p">,</span><span class="w">          </span><span class="err">//</span><span class="w"> </span><span class="err">take</span><span class="w"> </span><span class="err">profit</span><span class="w"> </span><span class="err">trigger</span><span class="w"> </span><span class="err">(by</span><span class="w"> </span><span class="err">position</span><span class="w"> </span><span class="err">exit</span><span class="w"> </span><span class="err">order)</span><span class="w">
      </span><span class="nl">"sl"</span><span class="w">  </span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">               </span><span class="err">//</span><span class="w"> </span><span class="err">stop</span><span class="w"> </span><span class="err">loss</span><span class="w"> </span><span class="err">price</span><span class="w"> </span><span class="err">(by</span><span class="w"> </span><span class="err">position</span><span class="w"> </span><span class="err">exit</span><span class="w"> </span><span class="err">order)</span><span class="w">
      </span><span class="nl">"slt"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"market"</span><span class="p">,</span><span class="w">          </span><span class="err">//</span><span class="w"> </span><span class="err">stop</span><span class="w"> </span><span class="err">loss</span><span class="w"> </span><span class="err">trigger</span><span class="w"> </span><span class="err">(by</span><span class="w"> </span><span class="err">position</span><span class="w"> </span><span class="err">exit</span><span class="w"> </span><span class="err">order)</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p><strong>Subscribe to the Channel</strong></p>

<p><code>{&quot;op&quot;:&quot;sub&quot;, &quot;id&quot;:&quot;sample-id&quot;, &quot;ch&quot;:&quot;futures-account-update&quot;}</code></p>
<h2 id='websocket-data-request'>WebSocket - Data Request</h2><h3 id='ws-account-snapshot'>WS: Account Snapshot</h3>
<blockquote>
<p>Requesting Futures Account Snapshot</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
   </span><span class="nl">"op"</span><span class="w">    </span><span class="p">:</span><span class="w"> </span><span class="s2">"req"</span><span class="p">,</span><span class="w">
   </span><span class="nl">"id"</span><span class="w">    </span><span class="p">:</span><span class="w"> </span><span class="s2">"abc123456"</span><span class="p">,</span><span class="w">
   </span><span class="nl">"action"</span><span class="p">:</span><span class="w"> </span><span class="s2">"futures-account-snapshot"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<blockquote>
<p>Futures Account Snapshot response</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
   </span><span class="nl">"m"</span><span class="w">  </span><span class="p">:</span><span class="w"> </span><span class="s2">"futures-account-snapshot"</span><span class="p">,</span><span class="w">  </span><span class="err">//</span><span class="w"> </span><span class="err">message</span><span class="w">
   </span><span class="nl">"id"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"abc123456"</span><span class="p">,</span><span class="w">                 </span><span class="err">//</span><span class="w"> </span><span class="err">echo</span><span class="w"> </span><span class="err">back</span><span class="w"> </span><span class="err">the</span><span class="w"> </span><span class="err">request</span><span class="w"> </span><span class="err">Id</span><span class="w">
   </span><span class="nl">"e"</span><span class="w">  </span><span class="p">:</span><span class="w"> </span><span class="s2">"ClientRequest"</span><span class="p">,</span><span class="w">             </span><span class="err">//</span><span class="w"> </span><span class="err">event</span><span class="w"> </span><span class="err">name</span><span class="w">
   </span><span class="nl">"t"</span><span class="w">  </span><span class="p">:</span><span class="w"> </span><span class="mi">1613748277356</span><span class="p">,</span><span class="w">               </span><span class="err">//</span><span class="w"> </span><span class="err">server</span><span class="w"> </span><span class="err">time</span><span class="w"> </span><span class="err">in</span><span class="w"> </span><span class="err">milliseconds</span><span class="w"> </span><span class="err">(UTC)</span><span class="w">
   </span><span class="nl">"acc"</span><span class="p">:</span><span class="w"> </span><span class="s2">"futH9N59hR0BMVEjHnBleHLn0mfUl5lo"</span><span class="p">,</span><span class="w">  </span><span class="err">//</span><span class="w"> </span><span class="err">accountId</span><span class="w">
   </span><span class="nl">"ac"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"FUTURES"</span><span class="p">,</span><span class="w">                   </span><span class="err">//</span><span class="w"> </span><span class="err">account</span><span class="w"> </span><span class="err">category</span><span class="w">
   </span><span class="nl">"sn"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="mi">9982</span><span class="p">,</span><span class="w">                        </span><span class="err">//</span><span class="w"> </span><span class="err">sequence</span><span class="w"> </span><span class="err">number</span><span class="w">
   </span><span class="nl">"col"</span><span class="p">:[</span><span class="w">  </span><span class="err">//</span><span class="w"> </span><span class="err">collateral</span><span class="w"> </span><span class="err">balances</span><span class="w">
      </span><span class="p">{</span><span class="w">
         </span><span class="nl">"a"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ETH"</span><span class="p">,</span><span class="w">     </span><span class="err">//</span><span class="w"> </span><span class="err">collateral</span><span class="w"> </span><span class="err">asset</span><span class="w"> </span><span class="err">code</span><span class="w">
         </span><span class="nl">"b"</span><span class="p">:</span><span class="w"> </span><span class="s2">"500"</span><span class="p">,</span><span class="w">     </span><span class="err">//</span><span class="w"> </span><span class="err">collateral</span><span class="w"> </span><span class="err">balance</span><span class="w">
         </span><span class="nl">"f"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.95"</span><span class="w">     </span><span class="err">//</span><span class="w"> </span><span class="err">discount</span><span class="w"> </span><span class="err">factor</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="p">{</span><span class="w">
         </span><span class="nl">"a"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC"</span><span class="p">,</span><span class="w">
         </span><span class="nl">"b"</span><span class="p">:</span><span class="w"> </span><span class="s2">"100"</span><span class="p">,</span><span class="w">
         </span><span class="nl">"f"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.98"</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="p">{</span><span class="w">
         </span><span class="nl">"a"</span><span class="p">:</span><span class="w"> </span><span class="s2">"USDT"</span><span class="p">,</span><span class="w">
         </span><span class="nl">"b"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1000000"</span><span class="p">,</span><span class="w">
         </span><span class="nl">"f"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1"</span><span class="w">
      </span><span class="p">}</span><span class="w">
   </span><span class="p">],</span><span class="w">
   </span><span class="nl">"pos"</span><span class="p">:[</span><span class="w">  </span><span class="err">//</span><span class="w"> </span><span class="err">contract</span><span class="w"> </span><span class="err">positions</span><span class="w">
      </span><span class="p">{</span><span class="w">
         </span><span class="nl">"s"</span><span class="w">   </span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC-PERP"</span><span class="p">,</span><span class="w">  </span><span class="err">//</span><span class="w"> </span><span class="err">contract</span><span class="w"> </span><span class="err">symbol</span><span class="w">
         </span><span class="nl">"sd"</span><span class="w">  </span><span class="p">:</span><span class="w"> </span><span class="s2">"NULL_VAL"</span><span class="p">,</span><span class="w">  </span><span class="err">//</span><span class="w"> </span><span class="err">side:</span><span class="w"> </span><span class="err">LONG</span><span class="w"> </span><span class="err">/</span><span class="w"> </span><span class="err">SHORT</span><span class="w"> </span><span class="err">/</span><span class="w"> </span><span class="err">NULL_VAL</span><span class="w">
         </span><span class="nl">"pos"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">         </span><span class="err">//</span><span class="w"> </span><span class="err">position</span><span class="w">
         </span><span class="nl">"rc"</span><span class="w">  </span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">         </span><span class="err">//</span><span class="w"> </span><span class="err">reference</span><span class="w"> </span><span class="err">cost</span><span class="w">
         </span><span class="nl">"up"</span><span class="w">  </span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">         </span><span class="err">//</span><span class="w"> </span><span class="err">unrealized</span><span class="w"> </span><span class="err">pnl</span><span class="w">
         </span><span class="nl">"rp"</span><span class="w">  </span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">         </span><span class="err">//</span><span class="w"> </span><span class="err">realized</span><span class="w"> </span><span class="err">pnl</span><span class="w">
         </span><span class="nl">"aop"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">         </span><span class="err">//</span><span class="w"> </span><span class="err">average</span><span class="w"> </span><span class="err">opening</span><span class="w"> </span><span class="err">price</span><span class="w">
         </span><span class="nl">"mt"</span><span class="w">  </span><span class="p">:</span><span class="w"> </span><span class="s2">"crossed"</span><span class="p">,</span><span class="w">   </span><span class="err">//</span><span class="w"> </span><span class="err">margin</span><span class="w"> </span><span class="err">type:</span><span class="w"> </span><span class="err">isolated</span><span class="w"> </span><span class="err">/</span><span class="w"> </span><span class="err">cross</span><span class="w">
         </span><span class="nl">"boon"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">         </span><span class="err">//</span><span class="w"> </span><span class="err">buy</span><span class="w"> </span><span class="err">open</span><span class="w"> </span><span class="err">order</span><span class="w"> </span><span class="err">notional</span><span class="w">
         </span><span class="nl">"soon"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">         </span><span class="err">//</span><span class="w"> </span><span class="err">sell</span><span class="w"> </span><span class="err">open</span><span class="w"> </span><span class="err">order</span><span class="w"> </span><span class="err">notional</span><span class="w">
         </span><span class="nl">"lev"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"10"</span><span class="p">,</span><span class="w">        </span><span class="err">//</span><span class="w"> </span><span class="err">leverage</span><span class="w">
         </span><span class="nl">"iw"</span><span class="w">  </span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">         </span><span class="err">//</span><span class="w"> </span><span class="err">isolated</span><span class="w"> </span><span class="err">margin</span><span class="w">
         </span><span class="nl">"tp"</span><span class="w">  </span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">         </span><span class="err">//</span><span class="w"> </span><span class="err">take</span><span class="w"> </span><span class="err">profit</span><span class="w"> </span><span class="err">price</span><span class="w"> </span><span class="err">(by</span><span class="w"> </span><span class="err">position</span><span class="w"> </span><span class="err">exit</span><span class="w"> </span><span class="err">order)</span><span class="w">
         </span><span class="nl">"tpt"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"market"</span><span class="p">,</span><span class="w">    </span><span class="err">//</span><span class="w"> </span><span class="err">take</span><span class="w"> </span><span class="err">profit</span><span class="w"> </span><span class="err">trigger</span><span class="w"> </span><span class="err">(by</span><span class="w"> </span><span class="err">position</span><span class="w"> </span><span class="err">exit</span><span class="w"> </span><span class="err">order)</span><span class="w">
         </span><span class="nl">"sl"</span><span class="w">  </span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">         </span><span class="err">//</span><span class="w"> </span><span class="err">stop</span><span class="w"> </span><span class="err">loss</span><span class="w"> </span><span class="err">price</span><span class="w"> </span><span class="err">(by</span><span class="w"> </span><span class="err">position</span><span class="w"> </span><span class="err">exit</span><span class="w"> </span><span class="err">order)</span><span class="w">
         </span><span class="nl">"slt"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"market"</span><span class="w">     </span><span class="err">//</span><span class="w"> </span><span class="err">stop</span><span class="w"> </span><span class="err">loss</span><span class="w"> </span><span class="err">trigger</span><span class="w"> </span><span class="err">(by</span><span class="w"> </span><span class="err">position</span><span class="w"> </span><span class="err">exit</span><span class="w"> </span><span class="err">order)</span><span class="w">
      </span><span class="p">}</span><span class="w">
   </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p>You can request the futures account snapshot via websocket by a <code>futures-account-snapshot</code> action. </p>

<p>The request schema:</p>

<table><thead>
<tr>
<th>Name</th>
<th>Data Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>op</td>
<td>String</td>
<td><code>req</code></td>
</tr>
<tr>
<td>action</td>
<td>String</td>
<td><code>futures-account-snapshot</code></td>
</tr>
<tr>
<td>id</td>
<td>String</td>
<td>for result match purpose</td>
</tr>
</tbody></table>
<h3 id='ws-place-order'>WS: Place Order</h3>
<blockquote>
<p>Request to place new order</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
   </span><span class="nl">"op"</span><span class="w">    </span><span class="p">:</span><span class="w"> </span><span class="s2">"req"</span><span class="p">,</span><span class="w">
   </span><span class="nl">"action"</span><span class="p">:</span><span class="w"> </span><span class="s2">"place-order"</span><span class="p">,</span><span class="w">
   </span><span class="nl">"ac"</span><span class="w">    </span><span class="p">:</span><span class="w"> </span><span class="s2">"futures"</span><span class="p">,</span><span class="w">         </span><span class="err">//</span><span class="w"> </span><span class="err">the</span><span class="w"> </span><span class="err">Account</span><span class="w"> </span><span class="err">Category</span><span class="w">
   </span><span class="nl">"id"</span><span class="w">    </span><span class="p">:</span><span class="w"> </span><span class="s2">"sampleRequestID"</span><span class="p">,</span><span class="w"> </span><span class="err">//</span><span class="w"> </span><span class="err">the</span><span class="w"> </span><span class="err">server</span><span class="w"> </span><span class="err">will</span><span class="w"> </span><span class="err">echo</span><span class="w"> </span><span class="err">back</span><span class="w"> </span><span class="err">this</span><span class="w"> </span><span class="err">id</span><span class="w"> </span><span class="err">in</span><span class="w"> </span><span class="err">the</span><span class="w"> </span><span class="err">ack</span><span class="w"> </span><span class="err">message.</span><span class="w"> 
   </span><span class="nl">"args"</span><span class="p">:{</span><span class="w">
      </span><span class="nl">"time"</span><span class="w">      </span><span class="p">:</span><span class="w"> </span><span class="mi">1613753879921</span><span class="p">,</span><span class="w">
      </span><span class="nl">"id"</span><span class="w">        </span><span class="p">:</span><span class="w"> </span><span class="s2">"sampleOrderId"</span><span class="p">,</span><span class="w">  </span><span class="err">//</span><span class="w"> </span><span class="err">optional</span><span class="p">,</span><span class="w"> </span><span class="err">the</span><span class="w"> </span><span class="err">server</span><span class="w"> </span><span class="err">will</span><span class="w"> </span><span class="err">use</span><span class="w"> </span><span class="err">this</span><span class="w"> </span><span class="err">id</span><span class="w"> </span><span class="err">to</span><span class="w"> </span><span class="err">generate</span><span class="w"> </span><span class="err">the</span><span class="w"> </span><span class="err">orderId.</span><span class="w">
      </span><span class="nl">"symbol"</span><span class="w">    </span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC-PERP"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"orderPrice"</span><span class="p">:</span><span class="w"> </span><span class="s2">"30000"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"orderQty"</span><span class="w">  </span><span class="p">:</span><span class="w"> </span><span class="s2">"0.12"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"orderType"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"limit"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"side"</span><span class="w">      </span><span class="p">:</span><span class="w"> </span><span class="s2">"buy"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"postOnly"</span><span class="w">  </span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
      </span><span class="nl">"respInst"</span><span class="w">  </span><span class="p">:</span><span class="w"> </span><span class="s2">"ACK"</span><span class="w">
   </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<blockquote>
<p>Successful ACK message</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
   </span><span class="nl">"m"</span><span class="w">     </span><span class="p">:</span><span class="w"> </span><span class="s2">"order"</span><span class="p">,</span><span class="w">
   </span><span class="nl">"code"</span><span class="w">  </span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
   </span><span class="nl">"id"</span><span class="w">    </span><span class="p">:</span><span class="w"> </span><span class="s2">"sampleRequestID"</span><span class="p">,</span><span class="w">   </span><span class="err">//</span><span class="w"> </span><span class="err">echo</span><span class="w"> </span><span class="err">back</span><span class="w"> </span><span class="err">the</span><span class="w"> </span><span class="err">original</span><span class="w"> </span><span class="err">request</span><span class="w"> </span><span class="err">Id</span><span class="w">
   </span><span class="nl">"action"</span><span class="p">:</span><span class="w"> </span><span class="s2">"place-order"</span><span class="p">,</span><span class="w">
   </span><span class="nl">"ac"</span><span class="w">    </span><span class="p">:</span><span class="w"> </span><span class="s2">"FUTURES"</span><span class="p">,</span><span class="w">
   </span><span class="nl">"info"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nl">"orderId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"s177bbb671b7U1234567890leOrderId"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"symbol"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC-PERP"</span><span class="w">
   </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<blockquote>
<p>Error response message</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
   </span><span class="nl">"m"</span><span class="w">     </span><span class="p">:</span><span class="w"> </span><span class="s2">"order"</span><span class="p">,</span><span class="w">
   </span><span class="nl">"code"</span><span class="w">  </span><span class="p">:</span><span class="w"> </span><span class="mi">300001</span><span class="p">,</span><span class="w">
   </span><span class="nl">"id"</span><span class="w">    </span><span class="p">:</span><span class="w"> </span><span class="s2">"sampleRequestID"</span><span class="p">,</span><span class="w">  </span><span class="err">//</span><span class="w"> </span><span class="err">echo</span><span class="w"> </span><span class="err">back</span><span class="w"> </span><span class="err">the</span><span class="w"> </span><span class="err">original</span><span class="w"> </span><span class="err">request</span><span class="w"> </span><span class="err">Id</span><span class="w">
   </span><span class="nl">"action"</span><span class="p">:</span><span class="w"> </span><span class="s2">"place-order"</span><span class="p">,</span><span class="w">
   </span><span class="nl">"ac"</span><span class="w">    </span><span class="p">:</span><span class="w"> </span><span class="s2">"FUTURES"</span><span class="p">,</span><span class="w">
   </span><span class="nl">"info"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nl">"reason"</span><span class="w">  </span><span class="p">:</span><span class="w"> </span><span class="s2">"INVALID_PRICE"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"errorMsg"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Order price is too low from market price."</span><span class="w">
   </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p>Place order via websocket </p>

<p><strong>Request</strong></p>

<p>Make new order request follow the general websocket request rule, with proper place new order parameters as specified in rest api for <em>args</em> field.</p>

<p>see <a href="#new-order">placing order via RESTful API</a>.</p>

<p><em>id</em></p>

<p>As described in <a href="#generate-order-id">Generate Order Id</a>, the server uses a deterministic algorithm to compute the orderId based on client inputs. For order requests placed via WebSocketL</p>

<ul>
<li>the server will use the <code>id</code> from the request <code>args</code>; </li>
<li>if <code>id</code> is not provided in <code>args</code>, the server will fallback to the top level request <code>id</code>; </li>
<li>if both <code>id</code>s are not present, the server will use a random string.</li>
</ul>

<p><strong>Response</strong></p>

<p>Respond with <em>m</em> field as <em>order</em>, and <em>action</em> field as <em>place-order</em>; 
if you provide <em>id</em> in your request, it will be echoed back as <em>id</em> to help you identify; 
<em>code</em> field to indicate if this is a successful <em>zero</em> or failed <em>non-zero</em>.</p>

<p><em>code=0</em> </p>

<p>With <em>code</em> field as <em>zero</em> to indicate this new order request pass some basic sanity check, and has been sent to matching engine. </p>

<p><em>info</em> field provide some detail: if you provide <em>id</em> in your request, it will be echoed back as <em>id</em> to help you identify; we also provide server side generated <em>orderId</em>, which is the id you should use for future track or action on the order.  </p>

<p><em>code=non-zero</em> </p>

<p>With <em>code</em> field as <em>non-zero</em> to indicate there is some obvisous errors in your request. </p>

<p><em>info</em> field provide some detail: we also provide error <em>reason</em> and <em>errorMsg</em> detail.</p>
<h3 id='ws-cancel-order'>WS: Cancel Order</h3>
<blockquote>
<p>Request to cancel existing open order</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
   </span><span class="nl">"op"</span><span class="w">    </span><span class="p">:</span><span class="w"> </span><span class="s2">"req"</span><span class="p">,</span><span class="w">
   </span><span class="nl">"action"</span><span class="p">:</span><span class="w"> </span><span class="s2">"cancel-order"</span><span class="p">,</span><span class="w">
   </span><span class="nl">"ac"</span><span class="w">    </span><span class="p">:</span><span class="w"> </span><span class="s2">"futures"</span><span class="p">,</span><span class="w">
   </span><span class="nl">"id"</span><span class="w">    </span><span class="p">:</span><span class="w"> </span><span class="s2">"sampleRequestId"</span><span class="p">,</span><span class="w">    </span><span class="err">//</span><span class="w"> </span><span class="err">server</span><span class="w"> </span><span class="err">will</span><span class="w"> </span><span class="err">echo</span><span class="w"> </span><span class="err">back</span><span class="w"> </span><span class="err">this</span><span class="w"> </span><span class="err">Id.</span><span class="w">
   </span><span class="nl">"args"</span><span class="p">:{</span><span class="w">
      </span><span class="nl">"time"</span><span class="p">:</span><span class="mi">1613744943323</span><span class="p">,</span><span class="w">
      </span><span class="nl">"orderId"</span><span class="p">:</span><span class="s2">"s177bab1b474U5051470287bbtcpKiOR"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"symbol"</span><span class="p">:</span><span class="s2">"BTC-PERP"</span><span class="w">
   </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<blockquote>
<p>Successful ACK message</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
   </span><span class="nl">"m"</span><span class="w">     </span><span class="p">:</span><span class="w"> </span><span class="s2">"order"</span><span class="p">,</span><span class="w">
   </span><span class="nl">"action"</span><span class="p">:</span><span class="w"> </span><span class="s2">"cancel-order"</span><span class="p">,</span><span class="w">
   </span><span class="nl">"ac"</span><span class="w">    </span><span class="p">:</span><span class="w"> </span><span class="s2">"FUTURES"</span><span class="p">,</span><span class="w">
   </span><span class="nl">"id"</span><span class="w">    </span><span class="p">:</span><span class="w"> </span><span class="s2">"sampleRequestId"</span><span class="p">,</span><span class="w"> </span><span class="err">//</span><span class="w"> </span><span class="err">echo</span><span class="w"> </span><span class="err">back</span><span class="w"> </span><span class="err">the</span><span class="w"> </span><span class="err">original</span><span class="w"> </span><span class="err">request</span><span class="w"> </span><span class="err">Id</span><span class="w">
   </span><span class="nl">"code"</span><span class="p">:</span><span class="mi">0</span><span class="p">,</span><span class="w">
   </span><span class="nl">"info"</span><span class="p">:{</span><span class="w">
      </span><span class="nl">"orderId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"s177bab1b474U5051470287bbtcpKiOR"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"symbol"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC-PERP"</span><span class="w">
   </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<blockquote>
<p>Error response message</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
   </span><span class="nl">"m"</span><span class="w">     </span><span class="p">:</span><span class="w"> </span><span class="s2">"order"</span><span class="p">,</span><span class="w">
   </span><span class="nl">"action"</span><span class="p">:</span><span class="w"> </span><span class="s2">"cancel-order"</span><span class="p">,</span><span class="w">
   </span><span class="nl">"ac"</span><span class="w">    </span><span class="p">:</span><span class="w"> </span><span class="s2">"FUTURES"</span><span class="p">,</span><span class="w">
   </span><span class="nl">"code"</span><span class="w">  </span><span class="p">:</span><span class="w"> </span><span class="mi">300006</span><span class="p">,</span><span class="w">
   </span><span class="nl">"id"</span><span class="w">    </span><span class="p">:</span><span class="w"> </span><span class="s2">"sampleRequestId"</span><span class="p">,</span><span class="w"> </span><span class="err">//</span><span class="w"> </span><span class="err">echo</span><span class="w"> </span><span class="err">back</span><span class="w"> </span><span class="err">the</span><span class="w"> </span><span class="err">original</span><span class="w"> </span><span class="err">request</span><span class="w"> </span><span class="err">Id</span><span class="w">
   </span><span class="nl">"info"</span><span class="p">:{</span><span class="w">
      </span><span class="nl">"reason"</span><span class="w">  </span><span class="p">:</span><span class="w"> </span><span class="s2">"INVALID_ORDER_ID"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"errorMsg"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Client Order Id too Long: s177bab1b474U5051470287bbtcpKiOR1"</span><span class="w">
   </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p>Cancel an existing open order via websocket </p>

<p><strong>Request</strong></p>

<p>Make order cancelling request follow the general websocket request rule by setting <code>action</code> to be <code>cancel-orde</code>, with proper cancel order parameters as specified in rest api for <em>args</em> field.</p>

<p><strong>Response</strong></p>

<p>Respond with <em>m</em> field as <em>order</em>, and <em>action</em> field as <em>cancel-order</em>; 
<em>code</em> field to indicate if this is a successful <em>zero</em> or failed <em>non-zero</em>.</p>

<p><em>code=0</em> </p>

<p>With <em>code</em> field as <em>zero</em> to indicate this cancel order request pass some basic sanity check, and has been sent to matching engine. </p>

<p><em>info</em> field provide some detail: if you provide <em>symbol</em> in your request, it will be echoed back as <em>symbol</em> to help you idintify; we also echo back target <em>orderId</em> to be cancelled.  </p>

<p><em>code=non-zero</em></p>

<p>With <em>code</em> field as <em>non-zero</em> to indicate there is some obvisous errors in your cancel order request. </p>

<p><em>info</em> field provide some detail: we also provide error <em>reason</em> and <em>errorMsg</em> detail.</p>
<h3 id='ws-cancel-all-orders'>WS: Cancel All Orders</h3>
<blockquote>
<p>Request to cancel all existing open orders </p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
   </span><span class="nl">"op"</span><span class="w">    </span><span class="p">:</span><span class="w"> </span><span class="s2">"req"</span><span class="p">,</span><span class="w">
   </span><span class="nl">"action"</span><span class="p">:</span><span class="w"> </span><span class="s2">"cancel-all"</span><span class="p">,</span><span class="w">
   </span><span class="nl">"ac"</span><span class="w">    </span><span class="p">:</span><span class="w"> </span><span class="s2">"futures"</span><span class="p">,</span><span class="w">
   </span><span class="nl">"id"</span><span class="w">    </span><span class="p">:</span><span class="w"> </span><span class="s2">"sampleRequestId"</span><span class="p">,</span><span class="w"> </span><span class="err">//</span><span class="w"> </span><span class="err">server</span><span class="w"> </span><span class="err">will</span><span class="w"> </span><span class="err">echo</span><span class="w"> </span><span class="err">back</span><span class="w"> </span><span class="err">this</span><span class="w"> </span><span class="err">Id.</span><span class="w">
   </span><span class="nl">"args"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">   </span><span class="err">//</span><span class="w"> </span><span class="err">you</span><span class="w"> </span><span class="err">can</span><span class="w"> </span><span class="err">also</span><span class="w"> </span><span class="err">omit</span><span class="w"> </span><span class="err">the</span><span class="w"> </span><span class="err">args</span><span class="w"> </span><span class="err">field</span><span class="w">
   </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<blockquote>
<p>Request to cancel existing open order related to symbol &quot;BTC-PERP&quot;</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
   </span><span class="nl">"op"</span><span class="w">    </span><span class="p">:</span><span class="w"> </span><span class="s2">"req"</span><span class="p">,</span><span class="w">
   </span><span class="nl">"action"</span><span class="p">:</span><span class="w"> </span><span class="s2">"cancel-all"</span><span class="p">,</span><span class="w">
   </span><span class="nl">"ac"</span><span class="w">    </span><span class="p">:</span><span class="w"> </span><span class="s2">"futures"</span><span class="p">,</span><span class="w">
   </span><span class="nl">"id"</span><span class="w">    </span><span class="p">:</span><span class="w"> </span><span class="s2">"sampleRequestId"</span><span class="p">,</span><span class="w"> </span><span class="err">//</span><span class="w"> </span><span class="err">server</span><span class="w"> </span><span class="err">will</span><span class="w"> </span><span class="err">echo</span><span class="w"> </span><span class="err">back</span><span class="w"> </span><span class="err">this</span><span class="w"> </span><span class="err">Id.</span><span class="w">
   </span><span class="nl">"args"</span><span class="p">:{</span><span class="w"> 
        </span><span class="nl">"symbol"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC-PERP"</span><span class="w">     
   </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<blockquote>
<p>Successful ACK message</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
   </span><span class="nl">"m"</span><span class="w">     </span><span class="p">:</span><span class="w"> </span><span class="s2">"order"</span><span class="p">,</span><span class="w">
   </span><span class="nl">"code"</span><span class="w">  </span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
   </span><span class="nl">"action"</span><span class="p">:</span><span class="w"> </span><span class="s2">"cancel-all"</span><span class="p">,</span><span class="w">
   </span><span class="nl">"ac"</span><span class="w">    </span><span class="p">:</span><span class="w"> </span><span class="s2">"FUTURES"</span><span class="p">,</span><span class="w">
   </span><span class="nl">"id"</span><span class="w">    </span><span class="p">:</span><span class="w"> </span><span class="s2">"sampleRequestId"</span><span class="p">,</span><span class="w"> </span><span class="err">//</span><span class="w"> </span><span class="err">echo</span><span class="w"> </span><span class="err">back</span><span class="w"> </span><span class="err">the</span><span class="w"> </span><span class="err">original</span><span class="w"> </span><span class="err">request</span><span class="w"> </span><span class="err">Id</span><span class="w">
   </span><span class="nl">"info"</span><span class="p">:{</span><span class="w">
      </span><span class="nl">"symbol"</span><span class="p">:</span><span class="s2">""</span><span class="w">
   </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<blockquote>
<p>Error response message</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
   </span><span class="nl">"m"</span><span class="w">     </span><span class="p">:</span><span class="w"> </span><span class="s2">"order"</span><span class="p">,</span><span class="w">
   </span><span class="nl">"code"</span><span class="w">  </span><span class="p">:</span><span class="w"> </span><span class="mi">300012</span><span class="p">,</span><span class="w">
   </span><span class="nl">"action"</span><span class="p">:</span><span class="w"> </span><span class="s2">"cancel-all"</span><span class="p">,</span><span class="w">
   </span><span class="nl">"ac"</span><span class="w">    </span><span class="p">:</span><span class="w"> </span><span class="s2">"FUTURES"</span><span class="p">,</span><span class="w">
   </span><span class="nl">"id"</span><span class="w">    </span><span class="p">:</span><span class="w"> </span><span class="s2">"sampleRequestId"</span><span class="p">,</span><span class="w"> </span><span class="err">//</span><span class="w"> </span><span class="err">echo</span><span class="w"> </span><span class="err">back</span><span class="w"> </span><span class="err">the</span><span class="w"> </span><span class="err">original</span><span class="w"> </span><span class="err">request</span><span class="w"> </span><span class="err">Id</span><span class="w">
   </span><span class="nl">"info"</span><span class="p">:{</span><span class="w">
      </span><span class="nl">"reason"</span><span class="w">  </span><span class="p">:</span><span class="w"> </span><span class="s2">"INVALID_PRODUCT"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"errorMsg"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Invalid Product Symbol"</span><span class="w">
   </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p>Cancel all open orders on account level via websocket with optional symbol.</p>

<p><strong>Request</strong></p>

<p>Make general websocket request with <code>action</code> field as <code>cancel-All</code> and set proper <code>ac</code> value(<code>futures</code>), and provide <em>symbol</em> value in <em>args</em>.</p>

<p><strong>Response</strong></p>

<p>With <em>code</em> field as <em>zero</em> to indicate this cancel all order request has been received by server and sent to matching engine. </p>

<p><em>info</em> field provide some detail: if you provide <em>symbol</em> in your request to cancel orders.</p>

<p>With <em>code</em> field as <em>non-zero</em> to indicate there is some obvisous errors in your request. </p>

<p><em>info</em> field provide some detail: we also provide error <em>reason</em> and <em>errorMsg</em> detail.</p>
<h1 id='appendix'>Appendix</h1><h2 id='enum-definitions'>ENUM Definitions</h2><h3 id='account-category-ac'>Account Category (<code>ac</code>)</h3>
<ul>
<li><code>CASH</code></li>
<li><code>MARGIN</code></li>
<li><code>FUTURES</code></li>
</ul>
<h3 id='order-type-ordertype'>Order Type (<code>orderType</code>)</h3>
<ul>
<li><code>Limit</code></li>
<li><code>Market</code></li>
<li><code>StopLimit</code></li>
<li><code>StopMarket</code></li>
</ul>
<h3 id='side-side'>Side (<code>side</code>)</h3>
<ul>
<li><code>Buy</code></li>
<li><code>Sell</code></li>
</ul>
<h3 id='response-type-respinst'>Response Type (<code>respInst</code>)</h3>
<ul>
<li><code>ACK</code></li>
<li><code>ACCEPT</code></li>
<li><code>DONE</code></li>
</ul>
<h3 id='time-in-force-timeinforce'>Time in Force (<code>timeInForce</code>)</h3>
<ul>
<li><code>GTC</code> - good till cancelled </li>
<li><code>IOC</code> - immediate or cancel</li>
<li><code>FOK</code> - fill or kill</li>
</ul>
<h3 id='execution-instruction-execinst'>Execution Instruction (<code>execInst</code>)</h3>
<ul>
<li><code>Post</code></li>
<li><code>Liquidation</code></li>
<li><code>InternalPost</code></li>
<li><code>StopOnMarket</code></li>
<li><code>StopOnMark</code></li>
<li><code>StopOnRef</code></li>
<li><code>ReduceOnly</code></li>
<li><code>PostReduceOnly</code></li>
<li><code>PostStopMarket</code></li>
<li><code>PostStopMark</code></li>
<li><code>PostStopRef</code></li>
<li><code>ReduceOnlyMarket</code></li>
<li><code>ReduceOnlyMark</code></li>
<li><code>ReduceOnlyRef</code></li>
<li><code>PostReduceMarket</code></li>
<li><code>PostReduceMark</code></li>
<li><code>PostReduceRef</code></li>
<li><code>OpenStopMkt</code></li>
<li><code>OpenStopMark</code></li>
<li><code>OpenStopRef</code></li>
<li><code>OpenPostStopMkt</code></li>
<li><code>OpenPostStopMark</code></li>
<li><code>OpenPostStopRef</code></li>
<li><code>PosStopMkt</code></li>
<li><code>PosStopMark</code></li>
<li><code>PosStopRef</code></li>
</ul>
<h3 id='margin-type-margintype'>Margin Type (<code>marginType</code>)</h3>
<ul>
<li><code>crossed</code></li>
<li><code>isolated</code></li>
</ul>
<h3 id='websocket-operations-op'>WebSocket Operations (<code>op</code>)</h3>
<ul>
<li><code>auth</code></li>
</ul>
<h3 id='websocket-message-types-m'>WebSocket Message Types (<code>m</code>)</h3>
<ul>
<li><code>auth</code></li>
<li><code>sub</code></li>
<li><code>unsub</code></li>
<li><code>bbo</code></li>
<li><code>futures-pricing-data-batch</code></li>
<li><code>futures-order</code></li>
<li><code>futures-account-update</code></li>
</ul>

      </div>
      <div class="dark-box">
          <div class="lang-selector">
                <a href="#" data-language-name="shell">shell</a>
                <a href="#" data-language-name="python">python</a>
                <a href="#" data-language-name="java">java</a>
          </div>
      </div>
    </div>
  </body>
</html>
